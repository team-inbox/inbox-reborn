/**
 * Gmail Enhancement Stylesheet
 * 
 * This stylesheet enhances the Gmail interface with:
 * - Custom layout and spacing
 * - Dark mode support
 * - Material design elements
 * - Email bundling styles
 * - Custom sidebar navigation
 * - Floating action buttons
 * - Header color customization
 * 
 * Version: 2.0.0
 * Last Updated: 2025
 */

/* =============================================================================
   VARIABLES AND ROOT SETTINGS
   ============================================================================= */
:root {
  --inbox-margin-right: 7vw;
  --email-max-width: 1200px;
  
  /* Color palette */
  --color-background: #f2f2f2;
  --color-surface: #ffffff;
  --color-text-primary: #202124;
  --color-text-secondary: #616161;
  --color-divider: #dddddd;
  --color-shadow: rgba(0, 0, 0, 0.24);
  
  /* Dark mode colors (will be applied with .dark-mode class) */
  --dark-color-background: #141414;
  --dark-color-surface: #252526;
  --dark-color-text-primary: #ffffff;
  --dark-color-text-secondary: #c7c7c7;
  --dark-color-divider: #3b3b3b;
  --dark-color-shadow: rgba(0, 0, 0, 0.44);
}

/* Let Gmail use its default colorful icons for system labels */

/* =============================================================================
   TYPOGRAPHY AND BASE STYLES
   ============================================================================= */
* {
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 99.1%;
  letter-spacing: normal;
}

/* Email subject colour */
.zA {
  color: #040404;
}

/* =============================================================================
   LAYOUT STRUCTURE
   ============================================================================= */

/* Header bar */
header {
  box-shadow: 0 0 4px rgba(0, 0, 0, .14), 0 4px 8px rgba(0, 0, 0, .28);
}

/* Sidebar: hide the label email counters */
.bsU {
  display: none !important;
}

/* Sidebar: Mail/Chat/Spaces that came with new Gmail */
.aeN.WR.a6o.anZ.nH.oy8Mbf {
  width: 68px !important;
}

.WR.aeN {
  background: #f2f2f2 !important;
}

/* Mail sidebar */
.aqn.aIH.nH.oy8Mbf.apV {
  margin-bottom: 60px; /* 52px */
  height: calc(100vh - 64px) !important;
}

/* Mail/Chat/Spaces sidebar hover preview */
.apV.aJu, 
.aBA.apV.bym { /* .bym applies hover preview styles! */
  height: calc(100vh - 64px) !important;
  border-radius: 0 !important;
}

/* Arrows on Mail/Chat/Spaces sidebar hover preview */
.aTV {
  left: 62px !important;
  border-color: transparent transparent #f2f2f2 #f2f2f2 !important;
}

/* Sidebar: labels */
.TO .nU > .n0,
.TO.NQ .nU > .n0,
.TO.nZ .nU > .n0,
.ah9 > .CJ,
.n3 > .CL > .CK,
.aAv {
  text-shadow: none;
  color: #616161 !important
}

/* Emails */
.Cp {
  margin: auto !important;
  max-width: var(--email-max-width);
  padding: 0 10px;
}

/* Set opened email width to same as email list */
.Bs.nH.iY.bAt {
  margin: 10px auto 10px auto !important;
  max-width: 1180px;
  padding: 0 10px;
}

/* Center search toolbar */
.biW {
  margin-left: auto !important;
  margin-right: auto !important;
  max-width: var(--email-max-width);
}

/* Align toolbar with email width */
.aeH > .D.E.G-atb {
  margin: auto !important;
  max-width: none;
  width: 100%;
}

.D.E.G-atb {
  margin: 0 auto !important;
  width: var(--email-max-width);
  /* this percent effectively enforces a 3.5% (7% / 2) padding when */
  max-width: 97%;
}

/* Add box-shadow to open email + match toolbar width */
.nH.a98.iY {
  margin: 2px 16px 0;
  box-shadow: 0 -1px 0 #e0e0e0, 0 0 2px rgba(0,0,0,.12), 0 2px 4px rgba(0,0,0,.24) !important
}

.aeH {
  width: calc(100% - var(--inbox-margin-right));
  display: flex;
}

/* Enforce background color behind emails */
.ar4 {
  background: #f2f2f2;
}

/* Match right margin to center main content if left sidebar collapsed */
.aBA + .bkK > .nH > .ar4 > div {
  margin-left: var(--inbox-margin-right);
}

/* Match light gray BG to hide pale blue while animating sidebar open or close */
.nH.aqk.aql.bkL {
  background: #f2f2f2;
}

/* =============================================================================
   EMAIL ELEMENTS
   ============================================================================= */

/* Attachment icon */
.yE {
  display: none !important;
}

/* Star email */
td.apU.xY {
  display: block;
  position: absolute;
  right: 0px;
}

/* Display star (pin) on hover */
.zA:hover td.apU.xY {
  display: block;
}

/* Not starred image */
td.apU.xY .T-KT::before {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important; /* Greyish color for light mode */
  background-image: none !important; /* Ensure no conflicting background image */
  opacity: 0.7 !important;
}

/* Starred */
td.apU.xY .T-KT.xl::before {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important; /* Greyish color for light mode */
  background-image: none !important; /* Ensure no conflicting background image */
}

/* Starred - Yellow Star */
td.apU.xY .T-KT.T-KT-Jp::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic-mark-pinned-yellow-24dp-r4-2x.png') !important;
  background-size: 24px !important;
  opacity: 1;
}

/* Starred - Orange Star */
td.apU.xY .T-KT.xl::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic-mark-pinned-orange-24dp-r4-2x.png') !important;
  background-size: 24px !important;
}

/* Starred - Red Star */
td.apU.xY .T-KT.xn::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic-mark-pinned-red-24dp-r4-2x.png') !important;
  background-size: 24px !important;
}

/* Starred - Purple Star */
td.apU.xY .T-KT.xm::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic-mark-pinned-purple-24dp-r4-2x.png') !important;
  background-size: 24px !important;
}

/* Starred - Blue Star */
td.apU.xY .T-KT.xj::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic-mark-pinned-blue-24dp-r4-2x.png') !important;
  background-size: 24px !important;
}

/* Starred - Green Star */
td.apU.xY .T-KT.xk::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic-mark-pinned-green-24dp-r4-2x.png') !important;
  background-size: 24px !important;
}

/* Starred - Red Bang */
td.apU.xY .T-KT.xg::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  background-size: 1px !important;
}

/* Starred - Orange Guillimet */
td.apU.xY .T-KT.xe::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  background-size: 1px !important;
}

/* Starred - Yellow Bang */
td.apU.xY .T-KT.xh::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  background-size: 1px !important;
}

/* Starred - Green Check */
td.apU.xY .T-KT.xd::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  background-size: 1px !important;
}

/* Starred - Blue Info */
td.apU.xY .T-KT.xc::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  background-size: 1px !important;
}

/* Starred - Purple Question */
td.apU.xY .T-KT.xf::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  background-size: 1px !important;
}

/* Firefox-specific image paths */
@-moz-document url-prefix() {
  /* Not starred image */
  td.apU.xY .T-KT::before {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important; /* Greyish color for light mode */
    background-image: none !important; /* Ensure no conflicting background image */
  }
  /* Starred */
  td.apU.xY .T-KT.xl::before {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important; /* Greyish color for light mode */
    background-image: none !important; /* Ensure no conflicting background image */
  }
  /* Starred - Yellow Star */
  td.apU.xY .T-KT.T-KT-Jp::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic-mark-pinned-yellow-24dp-r4-2x.png') !important;
  }
  /* Starred - Orange Star */
  td.apU.xY .T-KT.xl::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic-mark-pinned-orange-24dp-r4-2x.png') !important;
  }
  /* Starred - Red Star */
  td.apU.xY .T-KT.xn::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic-mark-pinned-red-24dp-r4-2x.png') !important;
  }
  /* Starred - Purple Star */
  td.apU.xY .T-KT.xm::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic-mark-pinned-purple-24dp-r4-2x.png') !important;
  }
  /* Starred - Blue Star */
  td.apU.xY .T-KT.xj::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic-mark-pinned-blue-24dp-r4-2x.png') !important;
  }
  /* Starred - Green Star */
  td.apU.xY .T-KT.xk::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic-mark-pinned-green-24dp-r4-2x.png') !important;
  }
  /* Starred - Red Bang */
  td.apU.xY .T-KT.xg::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  }
  /* Starred - Orange Guillimet */
  td.apU.xY .T-KT.xe::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  }
  /* Starred - Yellow Bang */
  td.apU.xY .T-KT.xh::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  }
  /* Starred - Green Check */
  td.apU.xY .T-KT.xd::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  }
  /* Starred - Blue Info */
  td.apU.xY .T-KT.xc::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  }
  /* Starred - Purple Question */
  td.apU.xY .T-KT.xf::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/cleardot.gif') !important;
  }
}

/* Unread email */
.yO {
  background: #FFF !important;
}

/* Time */
.time {
  color: #666;
  font-size: 14px;
  padding-bottom: 10px;
  padding-top: 20px;
  padding-left: 20px;
}

/* Email */
.zA, .zA:hover {
  box-shadow: 0 -1px 0 #e0e0e0, 0 0 2px rgba(0,0,0,.12), 0 2px 4px rgba(0,0,0,.24) !important;
  -webkit-box-shadow: 0 -1px 0 #e0e0e0, 0 0 2px rgba(0,0,0,.12), 0 2px 4px rgba(0,0,0,.24) !important;
  z-index: inherit !important;
  padding-right: 24px;
  background: #FFF !important;
}

/* Inbox Email is Empty show Sun */
.ar4.z .TD > .TC {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic_zero_inbox_2x.png') !important;
  background-repeat: no-repeat;
  background-position: center;
  padding-top: 30px;
  height: 618px;
  width: 456px;
  background-color: #F2F2F2;
  color: transparent;
  font-size: 14px;
}

@-moz-document url-prefix() {
  .ar4.z .TD > .TC {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic_zero_inbox_2x.png') !important;
  }
}

/* Fix for weird white space */
.eb.TD {
  display: none;
}

/* Fix padding on search */
.BltHke.nH.oy8Mbf {
  margin-top: 10px;
  margin-bottom: 0 !important;
}

/* Hide border at bottom of empty inbox background */
.cf.TB {
  border-bottom: none !important;
}

/* =============================================================================
   CHAT, SPACES, AND MEET VIEWS
   ============================================================================= */

/* Chat + Spaces: Full Screen Views */

/* Spaces */
.aBA + .bkK, .a3W + .bkK {
  margin-left: 0 !important;
}

/* Meet: Full Screen Views */
.Wh .Wi {
  height: calc(100vh - 64px) !important;
}

/* Chat Header, Content (these are within iframes so not pulling this CSS) */
.vIO7af,
.bzJiD {
  background: #f2f2f2 !important;
}

/* =============================================================================
   LEFT MENU STYLING
   ============================================================================= */

.aim {
  padding-left: 4px !important;
}

/* Menu item row */
.TK .TO {
  border-radius: 2px !important;
}

/* Menu item row, hover */
.TK .TO:hover {
  background-color: rgba(0,0,0,.05) !important;
  cursor: pointer;
}

/* Menu item row active */
.TK .TO:active,
.n6 .ah9.aiu:active
.CL:active,
.TO.nZ,
.TO.NQ,
.TO.ol {
  background-color: rgba(0,0,0,.05) !important;
}

/* Left sidebar collapsed */
.aeN.bhZ {
  transform: translateX(-80px) !important;
  transition: transform 0.2s ease;
}

/* --- DONE MENU ROW --- */
.TO.inbox-reborn-done {
  width: 234px !important;
  height: 50px !important;
  display: flex !important;
  align-items: center;
  border-radius: 2px !important;
  background: none !important;
  position: relative;
  box-sizing: border-box;
  cursor: pointer !important;
  /* To allow highlight/hover like other rows */
  transition: background 0.12s;
}

/* Add divider under Done menu row */
.TO.inbox-reborn-done {
  position: relative;
}

.TO.inbox-reborn-done::after {
  content: '';
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  bottom: -13px; /* Adjust for spacing; matches Trash and Categories divider gap */
  height: 1px;
  background: #ddd;
  margin-left: 0;
  margin-right: 0;
}

/* Add vertical spacing after Done divider to match Categories gap */
.TO.inbox-reborn-done {
  margin-bottom: 27px; /* Adjust as needed for visual match */
}

/* On hover, look like all other menu rows */
.TO.inbox-reborn-done:hover,
.TO.inbox-reborn-done.nZ {
  background-color: rgba(0,0,0,.05) !important;
}

/* Make all children take full height */
.TO.inbox-reborn-done > * {
  height: 100%;
}

/* Make the link cover the whole row, with flex alignment */
.TO.inbox-reborn-done a {
  display: flex !important;
  align-items: center;
  width: 100% !important;
  height: 100% !important;
  padding: 0 !important;
  color: inherit !important;
  text-decoration: none !important;
  background: none !important;
  border: none;
  box-sizing: border-box;
  position: absolute;
  left: 0; top: 0;
  z-index: 2;
  cursor: pointer !important;
}

/* Keep icon and text on top of the link, so click works everywhere */
.TO.inbox-reborn-done .qj,
.TO.inbox-reborn-done .nU {
  position: relative;
  z-index: 3;
  pointer-events: none; /* don't block click */
}

/* Done icon - margin matches Sent/Drafts */
.TO.inbox-reborn-done .qj {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic_done_clr_24dp_r4_2x.png') !important;
  background-size: 24px !important;
  margin-right: 24px !important;
  width: 24px !important;
  height: 24px !important;
  flex-shrink: 0;
}

@-moz-document url-prefix() {
  .TO.inbox-reborn-done .qj {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic_done_clr_24dp_r4_2x.png') !important;
  }
}

/* Compose email old place */
.z0 {
  margin: 0px !important;
  height: 0px !important;
}

/* Compose email boxes wrapper */
.nH.Hd {
  margin-right: 40px;
}

/* Compose email popup */
/* Top bar */
.nH .Hy .m {
  background: #404040 !important;
  border-radius: 0 !important;
}

.Hp {
  color: white !important;
}

/* Minimize, Maximize, Close buttons */
.Hk {
  -webkit-mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_maximize_16px_1x.png');
  mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_maximize_16px_1x.png');
  background: white !important;
}

.Hl {
  -webkit-mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_minimize_16px_1x.png');
  mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_minimize_16px_1x.png');
  background: white !important;
}

.Hq {
  -webkit-mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_popout_16px_1x.png');
  mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_popout_16px_1x.png');
  background: white !important;
}

.Hm .aUG {
  -webkit-mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_open_in_full_16px_1x.png');
  mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_open_in_full_16px_1x.png');
  background: white !important;
}

.Ha {
  -webkit-mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_close_16px_1x.png');
  mask-image: url('https://ssl.gstatic.com/ui/v1/icons/mail/rfr/ic_close_16px_1x.png');
  background: white !important;
}

/* .Hn applies :hover color */
.Hk.Hn, .Hl.Hn, .Hr.Hq, .Ha.Hb {
  background: rgba(255,255,255,0.5) !important;
}

/* Hangout chat box wrapper */
.nH.aJl.nn {
  margin-right: 40px;
}

/* Menu container */
.aeN {
  width: 232px !important;
  max-width: unset !important;
  min-width: unset !important;
  left: 0;
}

.wT {
  margin-top: -20px;
  max-width: unset;
  min-width: unset;
  width: 224px;
  padding: 12px 8px;
}

/* Menu item sections */
.TK {
  padding: 8px 0;
}

/* Menu item row inner */
.aim .TN {
  height: 40px;
}

/* Menu item row inner (when collapsed) */
.bhZ:not(.bym) .TN {
  padding: 0 4px !important;
}

/* Menu item link */
.TO .nU > .n0 {
  font-weight: normal;
}

.wT > .n3 .byl:first-child .aim:first-child .nZ {
  background-color: rgba(0,0,0,.05) !important;
}

/* =============================================================================
   SETTINGS MENU STYLING
   ============================================================================= */

/* Settings menu background in dark mode */
body.dark-mode .a8Y {
  background-color: #252526 !important;
}

/* =============================================================================
   NEW LABEL POPUP STYLING
   ============================================================================= */

/* New Label popup - improve text readability in dark mode */
body.dark-mode .uW2Fw-bHo {
  background-color: #2a2a2a !important;
  color: #e8eaed !important;
}

/* New Label popup title */
body.dark-mode .uW2Fw-bHo .cER4xe {
  color: #e8eaed !important;
  font-weight: 500 !important;
}

/* New Label popup input fields */
body.dark-mode .uW2Fw-bHo .a7H {
  background-color: #3c4043 !important;
  color: #e8eaed !important;
  border: 1px solid #5f6368 !important;
}

body.dark-mode .uW2Fw-bHo .a7H:focus {
  border-color: #8ab4f8 !important;
  box-shadow: 0 0 0 2px rgba(138, 180, 248, 0.2) !important;
}

/* New Label popup placeholder text */
body.dark-mode .uW2Fw-bHo .a7H::placeholder {
  color: #9aa0a6 !important;
}

/* New Label popup labels and text */
body.dark-mode .uW2Fw-bHo .a7N,
body.dark-mode .uW2Fw-bHo .a9J {
  color: #e8eaed !important;
}

/* New Label popup buttons */
body.dark-mode .uW2Fw-bHo .mUIrbf-I {
  background-color: #3c4043 !important;
  color: #e8eaed !important;
  border: 1px solid #5f6368 !important;
}

body.dark-mode .uW2Fw-bHo .mUIrbf-I:hover {
  background-color: #4c4c4c !important;
}

/* New Label popup primary button (Create) */
body.dark-mode .uW2Fw-bHo .eV8l8d {
  background-color: #8ab4f8 !important;
  color: #202124 !important;
  border: none !important;
}

body.dark-mode .uW2Fw-bHo .eV8l8d:hover {
  background-color: #aecbfa !important;
}

/* New Label popup secondary button (Cancel) */
body.dark-mode .uW2Fw-bHo .fQ1uhf {
  background-color: transparent !important;
  color: #8ab4f8 !important;
  border: 1px solid #5f6368 !important;
}

body.dark-mode .uW2Fw-bHo .fQ1uhf:hover {
  background-color: #3c4043 !important;
  border-color: #8ab4f8 !important;
}

/* New Label popup checkbox */
body.dark-mode .uW2Fw-bHo .a7G {
  background-color: #3c4043 !important;
  border: 1px solid #5f6368 !important;
}

body.dark-mode .uW2Fw-bHo .a7G:hover {
  background-color: #4c4c4c !important;
}

/* New Label popup dropdown arrow */
body.dark-mode .uW2Fw-bHo .mUIrbf-anl {
  color: #9aa0a6 !important;
}

/* New Label popup font styling for labels */
body.dark-mode .uW2Fw-bHo .uW2Fw-bHp-K0 {
  color: #e8eaed !important;
  font-weight: 400 !important;
}

/* =============================================================================
   SCROLLBAR STYLING - V3 aam ada
   ============================================================================= */

/* Scrollbar styling for V3 aam ada classes - same as email view */
body.dark-mode .V3.aam.ada::-webkit-scrollbar {
  width: 8px !important;
  background-color: transparent !important;
}

body.dark-mode .V3.aam.ada::-webkit-scrollbar-track {
  background-color: transparent !important;
  border-radius: 4px !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

body.dark-mode .V3.aam.ada::-webkit-scrollbar-thumb {
  background-color: #141414 !important;
  border-radius: 4px !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

body.dark-mode .V3.aam.ada:hover::-webkit-scrollbar-thumb {
  background-color: #323232 !important;
}

body.dark-mode .V3.aam.ada::-webkit-scrollbar-thumb:hover {
  background-color: #323232 !important;
}

/* Firefox scrollbar styling for V3 aam ada */
@-moz-document url-prefix() {
  body.dark-mode .V3.aam.ada {
    scrollbar-width: thin !important;
    scrollbar-color: #141414 transparent !important;
  }
  
  body.dark-mode .V3.aam.ada:hover {
    scrollbar-color: #323232 transparent !important;
  }
}



.qj {
  width: 24px !important;
  height: 24px !important;
  opacity: 1 !important;
  margin-right: 24px !important;
  background-size: 24px !important;
}

.qj::before {
  content: none !important;
}

.qj::after {
  content: none !important;
}

/* Inbox */
.aHS-bnt .qj {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/inbox_googblue_24dp.png') !important;
}

/* Dropdown arrow */
.aHS-bnt .afM {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/arrow_drop_down_black_20dp.png') !important;
}

/* Starred - Unified approach for both light and dark modes */
.aHS-bnw .qj {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/star_24dp_F1C411_FILL1_wght400_GRAD0_opsz24.svg') !important;
  background-color: transparent !important;
  background-size: 24px !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
}

@-moz-document url-prefix() {
  .aHS-bnw .qj {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/star_24dp_F1C411_FILL1_wght400_GRAD0_opsz24.svg') !important;
  }
}


/* Important */
.aHS-bns .qj {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important;
  background-image: none !important;
}

/* Chats */
.aHS-aHP .qj {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important;
  background-image: none !important;
}

/* Snoozed */
.aHS-bu1 .qj {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic_upcoming_clr_24dp_r5_2x.png') !important;
}

/* Scheduled */
.aHS-nd .qj {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important; /* Greyish color for light mode */
  background-image: none !important; /* Ensure no conflicting background image */
}

/* All, Nested Categories / Labels */
.aEe,
.aEc.aHS-bnr .qj,
.aHS-bnr .qj {
  opacity: 0.9 !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important;
}

/* Labels (only) */
.zw .aHS-bnr .qj {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #444746 !important;
}

/* Sent */
.aHS-bnu .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}
/* Drafts */
.aHS-bnq .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* All Mail */
.aHS-aHO .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}
/* Trash */
.aHS-bnx .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}
/* Spam */
.aHS-bnv .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* Categories */
[data-tooltip="Categories"] .aEc.aHS-bnr .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* Social */
[data-tooltip="Social"] .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* Updates */
[data-tooltip="Updates"] .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* Forums */
[data-tooltip="Forums"] .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* Promotions */
[data-tooltip="Promotions"] .qj {
	-webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
	-webkit-mask-size: 24px !important;
	mask-size: 24px !important;
	background-color: #4C4F4D !important;
}

/* Category buttons */
.CL.Q7::before, .CL.Wj::before {
  opacity: 0.9 !important;
}



/* Hide scrollbars globally for all browsers */
.aeF,
.wT,
.nH .AO,
.nH .AO .aeF {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.aeF::-webkit-scrollbar,
.wT::-webkit-scrollbar,
.nH .AO::-webkit-scrollbar,
.nH .AO .aeF::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

@-moz-document url-prefix() {
  /* Inbox */
  .aHS-bnt .qj {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/inbox_googblue_24dp.png') !important;
  }
  /* Dropdown arrow */
  .aHS-bnt .afM {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/arrow_drop_down_black_20dp.png') !important;
  }
  /* Important */
  .aHS-bns .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important;
    background-image: none !important;
  }
  /* Chats */
  .aHS-aHP .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important;
    background-image: none !important;
  }
  /* Snoozed */
  .aHS-bu1 .qj {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic_upcoming_clr_24dp_r5_2x.png') !important;
  }
  /* Sent */
  .aHS-bnu .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  /* Drafts */
  .aHS-bnq .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  /* Scheduled */
  .aHS-nd .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important; /* Greyish color for light mode */
    background-image: none !important; /* Ensure no conflicting background image */
  }
  /* All Mail */
  .aHS-aHO .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  /* Trash */
  .aHS-bnx .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  /* Spam */
  .aHS-bnv .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  /* Category */
  .aHS-bnr .qj /*:not(.aEe)*/ {
    /*background-image: url('moz-extension://__MSG_@@extension_id__/images/ic_custom-cluster_24px_g60_r3_2x.png') !important;*/
  }
  
  /* Labels - Firefox */
  .aEe,
  .aEc.aHS-bnr .qj,
  .aHS-bnr .qj {
    opacity: 0.9 !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important;
  }
  
  /* Labels (only) - Firefox */
  .zw .aHS-bnr .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #444746 !important;
  }
  /* Category icons */
  [data-tooltip="Social"] .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  [data-tooltip="Updates"] .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  [data-tooltip="Forums"] .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  [data-tooltip="Promotions"] .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
  }
  
  /* Categories */
  [data-tooltip="Categories"] .aEc.aHS-bnr .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #4C4F4D !important;
    background-image: none !important;
  }
  
  /* Firefox dark mode for Categories */
  body.dark-mode [data-tooltip="Categories"] .qj {
    background-color: #ffffff !important;
  }
  
  /* Firefox dark mode override for Categories to preserve mask-image */
  body.dark-mode [data-tooltip="Categories"] .aEc.aHS-bnr .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    background-color: #ffffff !important;
    background-image: none !important;
  }
}

/* Let Gmail use its default colorful icons for system labels */

.TO.nZ .n0 {
  color: #212121 !important;
  outline: none;
}

.TO .n0 {
  color: #616161 !important;
  outline: none;
}

/* padding for inbox, starred, sent, drafts, snooze */
.TN.bzz.aHS-bnq,
.TN.bzz.aHS-bnu,
.TN.bzz.aHS-bnw,
.TN.bzz.aHS-bnt,
.TN.bzz.aHS-bu1 {
  padding-bottom: 5px;
  padding-top: 5px;
}

/* padding for inbox, stared, sent, drafts */
.aim {
  margin-left: -14px;
}

/* arrow for labels */
.aij {
  background-color: transparent !important;
}

/* left menu border under trash - matches Gmail default styling */
.TN.bzz.aHS-bnx {
  padding-bottom: 5px;
  padding-top: 5px;
  border-bottom: 1px solid #e0e0e0;
  border-bottom-width: 1px !important;
  border-bottom-style: solid !important;
  border-bottom-color: #e0e0e0 !important;
  position: relative;
}

/* Force full width border for trash line */
.TN.bzz.aHS-bnx::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: -16px;
  right: -16px;
  height: 1px;
  background-color: #e0e0e0;
  z-index: 1;
}

/* Dark mode: border under trash */
body.dark-mode .TN.bzz.aHS-bnx {
  border-bottom: 1px solid #5f6368 !important;
  border-bottom-width: 1px !important;
  border-bottom-style: solid !important;
  border-bottom-color: #5f6368 !important;
}

/* Force full width border for trash line in dark mode */
body.dark-mode .TN.bzz.aHS-bnx::after {
  background-color: #5f6368 !important;
}

/* Mail / Chat / Spaces Side Panels */
.aBO {
  background-color: #f2f2f2;
}

/* Chats + Spaces wrappers + iframe */
.aB6 {
  background-color: #f2f2f2 !important;
}

.aB6,
.bn .bl {
  height: calc(100vh - 40px) !important;
}

/* =============================================================================
   MAIN MENU, SEARCH BAR AND EMAIL AREA
   ============================================================================= */

/* main top bar including shadow*/
.gb_xd.gb_4d.gb_Fd {
  height: 56px;
  box-shadow: 0px 5px 4px #c6c6c6;
}

form.bas {
  border-radius: 8px !important;
}

form.bas > table {
  margin-bottom: 0 !important;
}

/* search icon */
button.gb_ff.gb_gf  {
  margin-top: -3px;
  margin-left: 0px;
}

/* main search window */
.gb_oc.gb_Od.gb_Xd.gb_Td {
  margin-left: 10px;
}

/* search mail text */
input.gb_3e {
  margin-top: -5px;
  margin-left: 20px;
}

/* Google Apps icon & Google Account icon */
.gb_w.gb_Xc.gb_f.gb_Af, .gb_Ea.gb_Xc.gb_qg.gb_f.gb_Af {
  margin-top: -7px;
}

/* search bar */
.gb_mf.gb_gf {
  margin-top: 0px;
  margin-left: 30px;
  height: 36px;
}

/* colapsed main menu */
.no {
  background-color: #F2F2F2;
}

/* main email / chat / spaces area */
.bkK > .nH {
  margin-bottom: 0 !important;
  border-radius: 0 !important;
}

/* =============================================================================
   INBOX TABS AND LAYOUT
   ============================================================================= */

/* Inbox tabs align center */
.aAA {
  max-width: var(--email-max-width) !important;
}

.aKk>tbody, .aAA, .aRz.J-KU {
  justify-content: center !important;
}

.J-KU-Jg-K9.aAA > .aRz > .aAy {
  justify-content: center;
}

.aAy > .aKp {
  margin-left: 0;
}

/* behind emails */
.AO, .Tm.aeJ,

/* left sidebar */
.nH.oy8Mbf.nn.aeN,

/* right sidebar */
.brC-aT5-aOt-Jw,

/* Hangout bar */
.aj5 .J-KU, .aj5.J-KU-Jg,

/* toolbar */
.aeH,

/* Inbox tabs */
.aKh,

/* Empty inbox tab */
.aRs
{
  background: #F2F2F2 !important;
}

/* Quick Settings panel */
.IU {
  border-radius: 0 !important;
}

/* Border under toolbar */
.D.E.G-atb::before {
  box-shadow: none;
  -webkit-box-shadow: none;
}

/* =============================================================================
   GMAIL TOP BAR COLOR OVERRIDES
   ============================================================================= */
/**
 * Gmail Top Bar Color Overrides
 * --------------------------------
 * Purpose:
 * Overrides Gmail's default top bar colors based on page context.
 * 
 * How it works:
 * The 'pageTitle' attribute is dynamically set via JS to match
 * the specific page (e.g., inbox, starred, promotions).
 * 
 * Maintenance:
 * - Colors are based on the 2014 Material Design palette, matching the original Inbox launch colors.
 * - Update if Gmail's DOM structure changes.
 * - Ensure any new sections added in JS are also styled here.
 */

/* Default gray */
.w-asV.bbg.aiw {
  background-color: #898984;
}

/* Inbox */
.w-asV.bbg.aiw[pageTitle="inbox"] {
  background-color: #4285f4;
}

/* Starred */
.w-asV.bbg.aiw[pageTitle="starred"] {
  background-color: #fbc02d; 
}

/* Snoozed */
.w-asV.bbg.aiw[pageTitle="snoozed"] {
  background-color: #ef6c00;
}

/* Sent - teal */
.w-asV.bbg.aiw[pageTitle="sent"] {
  background-color: #009688;
}

/* Drafts */
.w-asV.bbg.aiw[pageTitle="drafts"] {
  background-color: #8d6e63; 
}

/* All Mail */
.w-asV.bbg.aiw[pageTitle="all"] {
  background-color: #4285f4;
}

/* Spam */
.w-asV.bbg.aiw[pageTitle="spam"] {
  background-color: #d93025;
}

/* Trash */
.w-asV.bbg.aiw[pageTitle="trash"] {
  background-color: #5f6368;
}

/* Social */
.w-asV.bbg.aiw[pageTitle="social"] {
  background-color: #009688;
}

/* Updates */
.w-asV.bbg.aiw[pageTitle="updates"] {
  background-color: #ffa600;
}

/* Forums */
.w-asV.bbg.aiw[pageTitle="forums"] {
  background-color: #bc5090; 
}

/* Promotions  */
.w-asV.bbg.aiw[pageTitle="promotions"] {
  background-color: #8bc34a; 
}

/* Important */
.w-asV.bbg.aiw[pageTitle="imp"] {
  background-color: #ff5722;
}

/* Scheduled */
.w-asV.bbg.aiw[pageTitle="scheduled"] {
  background-color: #33b679;
}

/* Manage subscriptions */
.w-asV.bbg.aiw[pageTitle="sub"] {
  background-color: #00acc1; 
}

/* Mange Labels */
.w-asV.bbg.aiw[pageTitle="labels"] {
  background-color: #5e87f5; 
}

/* Labels Custom for users */
.w-asV.bbg.aiw[pageTitle="label"] {
  background-color: #5e87f5; 
}

/* Archive  */
.w-asV.bbg.aiw[pageTitle="archive"] {
  background-color: #0f9d58;
}

/* Chat */
.w-asV.bbg.aiw[pageTitle="chat"],
.w-asV.bbg.aiw[pageTitle="onboarding"] {
  background-color: #00ac47;
}

/* Meet */
.w-asV.bbg.aiw[pageTitle="calls"] {
  background-color: #db4437;
}

/* =============================================================================
   CATEGORY & LABEL PAGE TITLES (HEADER BAR)
   ============================================================================= */
/**
 * These rules display the title in the Gmail header based on the
 * `pageTitle` attribute set by handleHashChange() in JavaScript:
 *
 * • `social`, `updates`, `forums`, `promotions`, `labels` — use fixed names
 * • `label` — dynamic: content pulled from `data-label-title` which
 *               JS sets to the leaf (last segment) of a custom label.
 */
.w-asV.bbg.aiw[pageTitle="social"] a[aria-label="Gmail"]::after {
  content: 'Social';
}
.w-asV.bbg.aiw[pageTitle="updates"] a[aria-label="Gmail"]::after {
  content: 'Updates';
}
.w-asV.bbg.aiw[pageTitle="forums"] a[aria-label="Gmail"]::after {
  content: 'Forums';
}
.w-asV.bbg.aiw[pageTitle="promotions"] a[aria-label="Gmail"]::after {
  content: 'Promotions';
}
.w-asV.bbg.aiw[pageTitle="labels"] a[aria-label="Gmail"]::after {
  content: 'Labels';
}
.w-asV.bbg.aiw[pageTitle="label"] a[aria-label="Gmail"]::after {
  content: attr(data-label-title);
}

/* Fix background color for vertical split layout */
.UI .nH.nn,
.nH.bkK.nn,
.age {
  background-color: unset !important;
}

/* storage usage, terms of service, privacy, account activity */
.aeG {
  display: none;
}

/* Gmail icon (old, new) */
a[aria-label="Gmail"] {
  width: 120px;
  overflow: hidden;
  text-decoration: none;
}
a[aria-label="Gmail"] img {
  display: none;
}

/* Fix for padding applied to a[href="#inbox"] */
/* All titles get padding, lines up with sidebar icons */
a[aria-label="Gmail"][href^="#"] {
  padding-left: 22px;
}

/* Gmail text */
a[aria-label="Gmail"]::after {
  content: 'Search';
  font-size: 20px;
  color: #FFF;
  position: relative;
  top: -2px;
  padding-left: 7px;
}

a[aria-label="Gmail"][href="#inbox"]::after, a[aria-label="Gmail"][href="#settings"]::after {
  content: 'Inbox';
}
a[aria-label="Gmail"][href="#snoozed"]::after {
  content: 'Snoozed';
}
a[aria-label="Gmail"][href="#archive"]::after {
  content: 'Done';
}
a[aria-label="Gmail"][href="#starred"]::after {
  content: 'Starred';
}
a[aria-label="Gmail"][href="#sent"]::after {
  content: 'Sent';
}
a[aria-label="Gmail"][href="#drafts"]::after {
  content: 'Drafts';
}
a[aria-label="Gmail"][href="#imp"]::after {
  content: 'Important';
}
a[aria-label="Gmail"][href="#chat"]::after,
a[aria-label="Gmail"][href="#onboarding"]::after,
a[aria-label="Gmail"][href="#browse"]::after {
  content: 'Chat';
}
a[aria-label="Gmail"][href="#calls"]::after {
  content: 'Meet';
}
a[aria-label="Gmail"][href="#scheduled"]::after {
  content: 'Scheduled';
}
a[aria-label="Gmail"][href="#all"]::after {
  content: 'All Mail';
}
a[aria-label="Gmail"][href="#spam"]::after {
  content: 'Spam';
}
a[aria-label="Gmail"][href="#trash"]::after {
  content: 'Trash';
}
a[aria-label="Gmail"][href="#sub"]::after {
  content: 'Subscriptions';
}

/* Invisible inbox info with huge padding at bottom of email  */
.pfiaof {
  display: none;
}

/* Top bar icons */
header svg {
  color: #FFF !important;
  opacity: 1 !important;
}

/* Top bar Google Chat status selector */
.lJradf.X72uL { /* bg */
  background: rgba(255, 255, 255, 0.125) !important;
}

.lJradf.X72uL:not(.Dnplmc):hover {
  background: rgba(60, 64, 67, 0.08) !important;
}

.C2Qm1d.X72uL { /* Text */
  color: #FFF !important;
}

/* ? icon */
.t6.zH[aria-expanded="true"]:hover, .t6.zH[aria-expanded="true"] {
  background-color: rgba(95,99,104,0.24);
}

/* settings icon */
.FH[aria-expanded="true"]:hover {
  background-color: rgba(95,99,104,0.24);
}

/* gapps shorcut (expanded) icon */
.gb_B[aria-expanded="true"] .gb_F {
  fill: #fff !important;
}

/* Search bar (old, new) */
header form {
  background: rgba(255, 255, 255, 0.125) !important;
  max-width: 90% !important;
}

/* Search bar icon on active input (old, new) */
.gb_1e.gb_yf.gb_if button svg, .gb_2e.gb_zf.gb_jf button svg {
  color: #000 !important;
}
.gb_if {
  margin-top: -5px;
}

/* Search bar placeholder (old, new) */
header form input::placeholder {
  color: #FFF !important;
}

/* Search bar input */
header form input {
  color: white !important;
}

/* =============================================================================
   FLOATING ACTION BUTTONS
   ============================================================================= */

/* Add reminder button */
.add-reminder,
/* Floating compose button */
.floating-compose {
  user-select: none;
  position: fixed;
  z-index: 1000;
  border-radius: 50%;
  padding: 0;
  overflow: hidden;
  box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 1px 3px 1px rgba(60,64,67,0.149);
  cursor: pointer;
}

.add-reminder:hover,
.floating-compose:hover {
  box-shadow: 0 1px 3px 0 rgba(60,64,67,0.302), 0 4px 8px 3px rgba(60,64,67,0.149);
}

/* Add reminder button */
.add-reminder {
  right: 48px;
  bottom: 90px;
  width: 40px;
  height: 40px;
  background: #4285f4;
}

/* Add reminder button image */
.add-reminder::before,
/* Compose button image */
.floating-compose::before {
  background-size: 24px !important;
  background-position: center;
  background-repeat: no-repeat;
  content: '';
  display: block;
}

/* Add reminder button image */
.add-reminder::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_reminders_white_24dp_2x.png') !important;
  height: 40px;
  width: 40px;
}

/* Floating compose button */
.floating-compose {
  right: 40px;
  bottom: 20px;
  width: 56px;
  height: 56px;
  background: #d23f31;
}

/* Compose button image */
.floating-compose::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_white_24dp_2x.png') !important;
  height: 56px;
  width: 56px;
}
.floating-compose:hover::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_compose_white_24dp_2x.png') !important;
}

/* Hide old compose button */
.T-I-KE.L3:not(.aDV) {
  display: none !important;
}

/* But show New chat button + re-style to match */
.T-I.T-I-KE.L3.aDV {
  position: fixed;
  left: 0; 
  bottom: 20px;
  z-index: 4;
  padding: 0;
  width: 52px;
  height: 52px;
  border-radius: 26px;
  box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 1px 3px 1px rgba(60,64,67,0.149);
}

.T-I.T-I-KE.L3.aDV:hover {
  box-shadow: 0 1px 3px 0 rgba(60,64,67,0.302), 0 4px 8px 3px rgba(60,64,67,0.149);
}

.aqn.arL.nH.oy8Mbf.apV .T-I.T-I-KE.L3.aDV {
  left: 250px; /* only shows when Chat sidebar is active */
}

/* Archive button (inbox email, opened email) */
.brq, .ar8,
.ar8.T-I-J3.J-J5-Ji {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/archive_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/archive_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #9f9f9f !important; /* Light grey color for better visibility */
  background-image: none !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Force archive icon styling - override any conflicting styles */
.brq::before, .ar8::before,
.ar8.T-I-J3.J-J5-Ji::before {
  display: none !important;
}

.brq::after, .ar8::after,
.ar8.T-I-J3.J-J5-Ji::after {
  display: none !important;
}

/* Snooze button (inbox email, opened email) */
.brv, .brW {
  background-size: 20px !important;
}

@-moz-document url-prefix() {
  /* Add reminder button image */
  .add-reminder::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_reminders_white_24dp_2x.png') !important
  }
  /* Compose email image */
  .floating-compose::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_white_24dp_2x.png') !important;
  }
  .floating-compose:hover::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_compose_white_24dp_2x.png') !important;
  }
  /* Archive button (inbox email, opened email) */
  .brq, .ar8,
  .ar8.T-I-J3.J-J5-Ji {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/archive_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/archive_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #9f9f9f !important; /* Light grey color for better visibility */
    background-image: none !important;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }
}

/* Action buttons on email row */
.bqX {
  margin: 0 10px !important;
}

/* Done button on email row */
.bqX.brq {
  order: 3;
  margin-right: 22px !important;
}

/* Delete button on email row */
.bqX.bru {
  order: 2;
}

/* =============================================================================
   EMAIL CONTENT STYLING
   ============================================================================= */

/* Opened email */
.Bs.nH.iY.bAt {
  margin: 10px;
  box-shadow: 0 -1px 0 #e0e0e0, 0 0 2px rgba(0,0,0,.12), 0 2px 4px rgba(0,0,0,.24) !important;
  width: calc(100% - 62px);
  background: #FFF;
}

/* Fix bug that would expand the message area if giant image in message */
.Bs.nH.iY.bAt img {
  max-width: 100%;
  height: auto !important; /* Now ft. actual image proportions! */
}

/* Fixed border on email */
.Bu > .nH > .no {
  display: none;
}

/* Fix vertical ellipsis button per email "overflow" */
.T-I.J-J5-Ji.T-I-Js-Gs.aap.T-I-awG.T-I-ax7.L3 {
  margin-right: 20px;
}

/* Left toolbar when collapsed (this is done to fix hidden compose button when collapsed) */
.bhZ {
  position: relative !important;
  margin-right: -72px;
}

/* Attachments styling to look more like inbox */
.brd {
  margin-left: 0px !important;
}
.brc {
  border-radius: 2px !important;
  background-color: #f7f7f7;
  padding: 0 6px !important;
  color: #212121 !important;
  box-shadow: 0 0 1px rgba(0,0,0,.11), 0 1px 2px rgba(0,0,0,.22) !important;
}
.brc .brg {
  font-size: 13px !important;
}

/* =============================================================================
   PIN ICON STYLING
   ============================================================================= */

/* Nudges the pin along and then moves the date/time over a bit */
.zA .apU.xY {
  margin-right: 2px;
}
.zA .xW.xY {
  margin-left: -32px;
  margin-right: 10px;
}

/* Handles the positioning of the quick action icons that appear when you mouse over an email row to make room for the pin */
.bqY {
  position: relative;
  left: -10px;
}

/* Hides the pin when not pinned, until the cursor is over it */
.zA .apU.xY .aXw {
  display: none;
}
.zA .apU.xY .T-KT-JW {
  display: flex;
}
.aqw .apU.xY .aXw {
  display: flex;
}

/* =============================================================================
   INBOX AND TOP TOOLBAR LAYOUT
   ============================================================================= */

/* Hides pale blue on bottom of main panel */
.Tm {
  padding-bottom: 16px !important;
}

/* Hides pale blue on bottom for side panel */
.aUx {
  min-height: calc(100vh - 64px);	
}

/* Fixes box-shadow getting cutoff by parent */
.Nu {
  padding-top: 2px;
  padding-bottom: 6px;
  height: auto !important;
}

/* Search results "Some messages in Trash or Spam match your search" area */
.TD {
  background: transparent !important;
}

/* Right sidebar set height override */
.nH.bAw.nn {
  height: calc(100vh - 64px) !important;
}

/* Inbox: message list layout */
.nH .AO .aeF {
  min-width: 512px;
  margin-right: var(--inbox-margin-right);
  width: auto;
}

/* Inbox: starred heading space */
.Cp {
  margin: 0 5px;
}

/* Inbox: hide "Priority Inbox" section headings */
.priority-inbox-enabled .nH .Wg.aAr {
  display: none;
}

/* Inbox: date groupings */
.time {
  font-size: 13px;
  padding-top: 13px;
}

/* Inbox: email rows */
.zA {
  padding: 13px 12px 13px 10px !important;
}

/* Email selected with keyboard shortcut (remove left padding so blue bar is still right against the left edge) */
.zA.btb {
  padding-left: 5px !important;
}
.zA.btb .PF.xY.PE {
  margin-right: 10px;
}

/* Inbox: email row contents */
.zA * {
  font-size: 13px;
}

/* Moves the selection indicator to the left */
.PF.xY.PE {
  margin-left: -5px;
  margin-right: 5px;
}

/* Hides the checkbox when not checked */
.show-avatar-enabled .zA .oZ-x3.xY .T-Jo {
  display: none;
}

/* Show checkbox when hovering over email row with avatar */
.show-avatar-enabled .zA:hover:not(.aqw) .oZ-x3.xY .T-Jo {
  display: inline !important;
}

/* Hide avatar when hovering to show checkbox (but not when checked) */
.show-avatar-enabled .zA:hover:not(.aqw) .oZ-x3.xY .avatar {
  display: none !important;
}

/* When email is checked (selected), keep checkbox visible and avatar hidden */
.show-avatar-enabled .zA.aqw .oZ-x3.xY .T-Jo {
  display: inline !important;
}

.show-avatar-enabled .zA.aqw .oZ-x3.xY .avatar {
  display: none !important;
}

/* Alternative: Target by aria-checked attribute for checked emails */
.show-avatar-enabled .zA .oZ-x3.xY .T-Jo[aria-checked="true"] {
  display: inline !important;
}

.show-avatar-enabled .zA .oZ-x3.xY .T-Jo[aria-checked="true"] + .avatar {
  display: none !important;
}

.zA .oZ-jc.T-Jo.J-J5-Ji {
  margin-left: -4px;
}

/* hide the drag icon next to checkbox */
.aqw>td.oZ-x3:before {
  display: none;
}

/* Unhides the checkbox when checked */
.zA.aqw .oZ-x3.xY .T-Jo {
  display: inline;
}
.aqw .yX.xY div:nth-child(n+3)>img {
  display: none;
}
.x7 .yX.xY div:nth-child(n+3)>img {
  display: none;
}
.zA.x7 .oZ-x3.xY .T-Jo {
  display: inline;
}

/* Rearranges the menu at the top and moves it all to the right corner */
/* the bar that the menu items typically rest on */
.G-atb {
  padding-bottom: 12px !important;
}

.nH.aqK {
  padding-top: 0px;
}

.Cq.aqL {
  margin-left: 0;
}

.Cr.aqJ {
  margin-left: auto;
}

/* Snoozed notification styling */
.cL {
  font-weight: normal !important;
  font-size: 13px;
  margin-left: 0px !important;
}

/* =============================================================================
   CALENDAR EVENT STYLING
   ============================================================================= */

.calendar-attachment {
  height: 80px !important;
  width: 400px !important;
}

.calendar-attachment .brc {
  height: 80px;
  width: 400px;
  max-width: 400px !important;
  padding-left: 0 !important;
}

.calendar-attachment .brg {
  display: flex;
  flex-direction: column;
  max-width: 250px;
  overflow: visible;
}

.calendar-attachment .event-title, .calendar-attachment .event-time {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.calendar-attachment .event-title {
  font-weight: normal;
}
.calendar-attachment .event-time {
  color: #757575;
}

.calendar-attachment .aKS {
  position: relative;
  top: 0;
  margin-top: 4px;
}

.calendar-attachment .aKS .aOd.T-I-awv {
  border-radius: 2px;
}

.calendar-image {
  height: 80px;
  width: 100px;
  background-position: center;
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/calendar_event_attachment.png') !important;
  background-size: 200%;
  margin-right: 16px;
}
@-moz-document url-prefix() {
  .calendar-image {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/calendar_event_attachment.png') !important;
  }
}

/* Remove gmail calendar icon */
.yf img.xL {
  display: none;
}

/* =============================================================================
   LABELS AND AVATARS
   ============================================================================= */

/* Labels inline in email list */
.ar {
  height: 22px !important;
  border-radius: 2px !important;
}
/* Hides inline "Inbox" label on emails within bundles + labels */
.ar:has(.at[title=Inbox]) {
  display: none;
}

.ar .av {
  padding-top: 2px;
}

/* Name avatar */
.avatar {
  color: rgba(255, 255, 255, 0.65);
  border-radius: 50%;
  font-size: 18px;
  font-family: 'Roboto', sans-serif;
  font-weight: 400;
  position: relative;
  left: -6px;
  flex: 32px 0 0;
  width: 32px;
  height: 32px;
  text-align: center;
  line-height: 32px;
}

.reminder .avatar {
  background: url('chrome-extension://__MSG_@@extension_id__/images/ic_reminder_blue_24dp_r2_2x.png') center/75% no-repeat !important;
}

@-moz-document url-prefix() {
  .reminder .avatar {
    background: url('moz-extension://__MSG_@@extension_id__/images/ic_reminder_blue_24dp_r2_2x.png') center/75% no-repeat !important;
  }
}

/* Alignment of calendar icon */
.zA>.yf {
  padding-right: 32px !important;
}

/* Hide important indicator on reminders */
.reminder .WA.xY {
  visibility: hidden;
}

/* Right side Hangouts */
div[aria-label="Hangouts"][role="complementary"] {
  background-color: rgb(242, 242, 242) !important;
}

.nH.bkK.nn + .nH.nn {
  background-color: #e5e5e5 !important;
}

/* Subject padding in opened email */
.if > .byY, .iC .byY {
  padding: 20px 4px 8px 20px !important;
}

/* Subject padding in email list */
.zA > .yX {
  padding: 0 15px !important;
}

/* Align the checkbox with first letter avatar */
.zA .oZ-jc.T-Jo.J-J5-Ji {
  margin-left: 1px;
}

/* Hide the drag icon next to checkbox */
.aqw > td.oZ-x3:before {
  display: none;
}

/* Hide labels next to email subject */
.nH > .ha > .J-J5-Ji {
  display: none;
}

/* Hide buttons next to email subject */
.nH > .nH > .hj > .ade {
  display: none;
}

/* Hide full length email address */
.iw > .qu > .go {
  display: none;
}

/* Spacing on bottom of email list */
.BltHke.oy8Mbf {
  margin-bottom: 40px;
}

/* =============================================================================
   BUNDLE STYLING
   ============================================================================= */

.bundle-image {
  margin-left: 13px;
  display: inline-block;
  width: 28px;
  height: 28px !important;
  vertical-align:middle;
  margin-top:-4px;
  margin-bottom:-4px;
}
.bundle-image img {
  width: 28px;
}

.bundle-wrapper .label-link {
  margin-left: 5px;
  font-size: 13px;
  margin-right: 32px;
}
/* allows user-specified custom color labels/bundles */
.bundle-wrapper .label-link[style="color: rgb(225, 227, 225)"] {
  color: #404040 !important;
}
.bundle-wrapper.contains-unread .label-link,
.bundle-wrapper .bundle-senders span.strong {
  font-weight: 700;
}
.bundle-wrapper:not(.contains-unread) .bundle-image img {
  opacity: 0.6;
}

.bundle-senders {
  color: #202124 !important;
}
/* Parent of .bundle-senders */
.label-link + .xW.xY {
  flex-grow: 1;
  overflow: hidden;
}

.bundle-wrapper .label-link .bundle-count {
  font-weight: 400;
  margin-left: 5px;
  color: gray;
}

/* Colored bundle titles for Inbox categories */
.zA.yO[bundleLabel="Updates"] .label-link > span:not(.bundle-count) {
  color: rgb(255, 104, 57);
}
.zA.yO[bundleLabel="Promotions"] .label-link > span:not(.bundle-count) {
  color: rgb(0, 188, 212);
}
.zA.yO[bundleLabel="Forums"] .label-link > span:not(.bundle-count) {
  color: rgb(63, 81, 181);
}
.zA.yO[bundleLabel="Social"] .label-link > span:not(.bundle-count) {
  color: rgb(219, 68, 55);
}
.zA.yO[bundleLabel="Travel"] .label-link > span:not(.bundle-count),
.zA.yO[bundleLabel="Trips"] .label-link > span:not(.bundle-count) {
  color: rgb(156, 39, 176);
}
.zA.yO[bundleLabel^="Finance"] .label-link > span:not(.bundle-count) {
  color: rgb(103, 159, 56);
}
.zA.yO[bundleLabel="Orders"] .label-link > span:not(.bundle-count),
.zA.yO[bundleLabel="Purchases"] .label-link > span:not(.bundle-count) {
  color: rgb(121, 85, 72);
}

.bundled-email {
  display: none !important;
}

/* Bundle row settings */
.zA > span.oZ-x3 {
  order: 0;
}

/* allows user-specified custom color labels/bundles */
.zA > .xY.bundle-image[style*="background-color: rgb(225, 227, 225)"] {
  background-color: #444 !important;
}

.zA[bundlelabel^="Finance"] > .xY.bundle-image {
  background-color: rgb(103, 159, 56) !important;
}

.zA[bundlelabel="Forums"] > .xY.bundle-image {
  background-color: rgb(63, 81, 181) !important;
}

.zA[bundlelabel="Orders"] > span.oZ-x3,
.zA[bundlelabel="Purchases"] > span.oZ-x3 {
  background-color: rgb(121, 85, 72) !important;
}

.zA[bundlelabel="Promotions"] > span.oZ-x3 {
  background-color: rgb(0,188,212) !important;
}

.zA[bundlelabel="Social"] > span.oZ-x3 {
  background-color: rgb(219, 68, 55) !important;
}

.zA[bundlelabel="Travel"] > span.oZ-x3 {
  background-color: rgb(156, 39, 176) !important;
}

.zA[bundlelabel="Updates"] > span.oZ-x3 {
  background-color: rgb(255, 104, 57) !important;
}

.hide-important-markers {
  display: none !important;
}

/* Hide labels on emails when bundling is enabled */
body.email-bundling-enabled .bundled-email .yi,
body.email-bundling-enabled.bundle-page .nH.ar4.B .yi {
  display: none !important;
}

/* Override narrow width class */
.Zs .zA {
    -webkit-flex-wrap: nowrap !important;
  flex-wrap: nowrap !important;
}
.Zs .zA > .a4W {
  margin-left: unset !important;
}
.Zs .a4W .xT {
  flex-wrap: unset !important;
}
.Zs .yi {
  margin-left: 0 !important;
  max-width: unset !important;
}
.Zs .y2 {
  min-width: unset !important;
  -webkit-flex: 1 !important;
  flex: 1 !important;
}
.Zs .zA > .xW {
  -webkit-flex-basis: 1 !important;
  flex-basis: 1 !important;
  flex-grow: 400 !important;
  flex-basis: 0 !important;
}
.Zs .y6 {
  order: 1 !important;
}
.Zs .zA > .yX {
  flex: initial !important;
}
.Zs .zA > .xY {
  order: 1 !important;
}

.add-reminder.moved {
  right: 388px;
}

.floating-compose.moved,
.Yh.akV.moved {
  right: 380px;
}

/* Hide inbox count when Mail collapsed in left side bar */
span.XU {
  display: none !important;
}

/* Inbox tips, Unsubscribe/other alerts shown on top */
.S4 .X3 {
  margin-left: 9px;
  margin-right: 9px;
}

.G4, .GR, div[aria-label="Inbox tip"] {
  border: 0 !important;
  border-radius: 0 !important;
  box-shadow: 0 -1px 0 #e0e0e0, 0 0 2px rgba(0,0,0,.12), 0 2px 4px rgba(0,0,0,.24) !important;
}

/* New compose button */
.Yh.akV {
  position: fixed;
  bottom: 16px; /* 20px; */
  right: 38px; /* 38px */
  z-index: 1001;

  height: 58px !important; /* 56px */
  min-width: 58px !important; /* 56px */

  background-color: #d23f31 !important;
  border: 0 !important;
}

.akV:hover, .akV:focus {
  background-color: #d23f31 !important;
}

.akV:hover::before, .akV:focus::before {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_compose_white_24dp_2x.png') !important;
}

@media (min-resolution:144dpi),(-webkit-min-device-pixel-ratio:1.5) {
  .akV::before {
    background-image: url('chrome-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_white_24dp_2x.png') !important;
  }
  .akV:hover::before, .akV:focus::before {
    background-image: url('chrome-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_compose_white_24dp_2x.png') !important;
  }
}

@-moz-document url-prefix() {
  .akV::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_white_24dp_2x.png') !important;
  }
  .akV:hover::before, .akV:focus::before {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_compose_white_24dp_2x.png') !important;
  }
  @media (min-resolution:144dpi),(-webkit-min-device-pixel-ratio:1.5) {
    .akV::before {
      background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_white_24dp_2x.png') !important;
    }
    .akV:hover::before, .akV:focus::before {
      background-image: url('moz-extension://__MSG_@@extension_id__/images/btw_ic_speeddial_compose_white_24dp_2x.png') !important;
    }
  }
}

/* Hide Compose and Reminder buttons from Gmail's Print view */
@media print {
  .add-reminder,
  .floating-compose,
  .akV {
    display: none;
  }
}

/* =============================================================================
   SCROLLBAR STYLING
   ============================================================================= */

/* Auto-hide Gmail main message list scrollbar (Chrome & Edge) */
.aeF::-webkit-scrollbar {
  width: 10px;
  background: transparent;
  transition: background 0.2s;
}
.aeF::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 8px;
  transition: background 0.2s;
}
.aeF:hover::-webkit-scrollbar-thumb,
.aeF:active::-webkit-scrollbar-thumb {
  background: #a1a1a1;
}
.aeF:not(:hover)::-webkit-scrollbar-thumb {
  background: transparent;
}

/* For Firefox */
.aeF {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  transition: scrollbar-color 0.2s;
}
.aeF:hover {
  scrollbar-color: #a1a1a1 transparent;
}
.aeF:not(:hover) {
  scrollbar-color: transparent transparent;
}

/* =============================================================================
   SCROLLBAR STYLING - V3 aam ada (LIGHT MODE)
   ============================================================================= */

/* Light mode scrollbar styling for V3 aam ada classes - same as aeF */
.V3.aam.ada::-webkit-scrollbar {
  width: 8px;
  background: transparent;
  transition: background 0.2s;
}

.V3.aam.ada::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 4px;
  border: none;
  outline: none;
  box-shadow: none;
}

.V3.aam.ada::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 4px;
  border: none;
  transition: background 0.2s;
}

.V3.aam.ada:hover::-webkit-scrollbar-thumb {
  background: #a1a1a1;
}

.V3.aam.ada::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* Firefox scrollbar styling for light mode */
@-moz-document url-prefix() {
  .V3.aam.ada {
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
    transition: scrollbar-color 0.2s;
  }
  
  .V3.aam.ada:hover {
    scrollbar-color: #a1a1a1 transparent;
  }
}

/* =============================================================================
   DARK MODE STYLING
   ============================================================================= */

body.dark-mode {
  background-color: #141414 !important;
  color: #ffffff !important;
}
body.dark-mode .zA,
body.dark-mode .Cp,
body.dark-mode .Bs.nH.iY.bAt {
  background-color: #2a2a2a !important;
}
body.dark-mode input:not([name="to"]):not([name="cc"]):not([name="bcc"]):not([name="subjectbox"]):not([aria-label="To recipients"]):not([aria-label="Subject"]):not(.ZH):not([class*="ZH"]):not(.nr):not([class*="nr"]),
body.dark-mode textarea:not([aria-label="Message Body"]) {
  background-color: #3b3b3b !important;
  color: #ffffff !important;
}
body.dark-mode a {
  color: #4cc2ff !important;
}



body.dark-mode hr {
  border-color: #3b3b3b !important;
}

/* MAIN INTERFACE DARK MODE */

/* Email list and sidebar backgrounds - removed conflicting rule */

body.dark-mode .aBO,
body.dark-mode .aB6,
body.dark-mode .bn .bl,
body.dark-mode .bzJiD,
body.dark-mode .vIO7af,
body.dark-mode .no,
body.dark-mode .Tm.aeJ,
body.dark-mode .brC-aT5-aOt-Jw,
body.dark-mode .aj5 .J-KU,
body.dark-mode .aj5.J-KU-Jg,
body.dark-mode .aKh,
body.dark-mode .aRs {
  background: #2a2a2a !important;
}

/* Main menu - use the correct dark background */
body.dark-mode .ar4,
body.dark-mode .aeN,
body.dark-mode .WR,
body.dark-mode .baA,
body.dark-mode .oy8Mbf,
body.dark-mode .ajl,
body.dark-mode .aib,
body.dark-mode .aZ6,
body.dark-mode .wT,
body.dark-mode .n3,
body.dark-mode .byl,
body.dark-mode .TK,
body.dark-mode .aim,
body.dark-mode .TO {
  background: #141414 !important;
}

/* Exclude compose window from dark mode backgrounds - let Google handle it */
body.dark-mode .nH.Hd[role="dialog"] {
  background: initial !important;
  background-color: initial !important;
}

/* Exclude search window from dark mode - let Google handle it */
body.dark-mode .ZZ {
  background: initial !important;
  background-color: initial !important;
}

/* Removed duplicate rule - consolidated with more specific rules below */

/* Email row styling */
body.dark-mode .zA,
body.dark-mode .zA:hover,
body.dark-mode .Bs.nH.iY.bAt {
  background: #2a2a2a !important;
  color: #ffffff !important;
}

body.dark-mode .zA * {
  color: #ffffff !important;
}

/* Sidebar text colors */
body.dark-mode .TO .nU > .n0,
body.dark-mode .TO.NQ .nU > .n0,
body.dark-mode .TO.nZ .nU > .n0,
body.dark-mode .ah9 > .CJ,
body.dark-mode .n3 > .CL > .CK,
body.dark-mode .aAv {
  color: #c7c7c7 !important;
}

body.dark-mode .TO.nZ .n0 {
  color: #ffffff !important;
}

body.dark-mode .TO .n0 {
  color: #c7c7c7 !important;
}

/* Active sidebar item */
body.dark-mode .TO.nZ {
  background-color: #383838 !important;
}

/* Unread email highlight */
body.dark-mode .zA.zE {
  background-color: #383838 !important;
  border-left: 3px solid #4cc2ff !important;
  padding-left: 7px !important;
}

body.dark-mode .zA.zE:hover {
  background-color: #414141 !important;
}

/* Bundle styling */
body.dark-mode .brc {
  background-color: #3b3b3b !important;
  color: #ffffff !important;
  box-shadow: 0 0 1px rgba(0,0,0,.31), 0 1px 2px rgba(0,0,0,.42) !important;
}

body.dark-mode .bundle-senders {
  color: #ffffff !important;
}

body.dark-mode .bundle-wrapper .label-link .bundle-count {
  color: #c7c7c7 !important;
}

body.dark-mode .bundle-wrapper:not(.contains-unread) .bundle-image img {
  filter: brightness(0.8);
}

/* Calendar attachments */
body.dark-mode .calendar-attachment .event-time {
  color: #c7c7c7 !important;
}

/* Time stamps */
body.dark-mode .time {
  color: #c7c7c7 !important;
}

/* ========================================
   MAIN INBOX - DARK MODE TOOLBAR FIXES
   ======================================== */

/* Main toolbar container - force dark background and borders */
body.dark-mode .D.E.G-atb {
  background: #141414 !important;
  border-bottom-color: #141414 !important;
  border-left-color: #141414 !important;
  border-right-color: #141414 !important;
  border-top-color: #141414 !important;
  border-color: #141414 !important;
}

/* Override any inline border styles on main toolbar */
body.dark-mode .D.E.G-atb[style*="border"] {
  border-bottom-color: #141414 !important;
  border-left-color: #141414 !important;
  border-right-color: #141414 !important;
  border-top-color: #141414 !important;
  border-color: #141414 !important;
}

/* Force all toolbar elements to have dark borders */
body.dark-mode .D.E.G-atb *,
body.dark-mode .Cr.aqJ *,
body.dark-mode .nH.aqK * {
  border-color: #141414 !important;
  border-bottom-color: #141414 !important;
  border-left-color: #141414 !important;
  border-right-color: #141414 !important;
  border-top-color: #141414 !important;
}

/* Override any inline styles on toolbar elements */
body.dark-mode .D.E.G-atb *[style*="border"],
body.dark-mode .Cr.aqJ *[style*="border"],
body.dark-mode .nH.aqK *[style*="border"] {
  border-color: #141414 !important;
  border-bottom-color: #141414 !important;
  border-left-color: #141414 !important;
  border-right-color: #141414 !important;
  border-top-color: #141414 !important;
}

/* Nuclear option: Force all #444 colors to #141414 in toolbar area */
body.dark-mode .D.E.G-atb,
body.dark-mode .D.E.G-atb *,
body.dark-mode .nH.aqK:not(.Cr.aqJ .nH.aqK),
body.dark-mode .nH.aqK:not(.Cr.aqJ .nH.aqK) * {
  border-color: #141414 !important;
  border-bottom-color: #141414 !important;
  border-left-color: #141414 !important;
  border-right-color: #141414 !important;
  border-top-color: #141414 !important;
  background-color: #141414 !important;
}

/* Additional toolbar elements that needed border fixes */
body.dark-mode .Q3 {
  background-color: #252526 !important;
  border-bottom: 1px solid #141414 !important;
}

/* Removed conflicting rule - search window should use Google's default styling */

body.dark .Hp {
  background-color: #141414 !important;
  color: #ffffff !important;
  border-bottom: 1px solid #141414 !important;
}

/* Fix email viewer borders that were causing toolbar issues */
body.dark-mode .AO * {
  background-color: transparent !important;
  color: #e0e0e0 !important;
  border-color: #141414 !important;
}



/* Toolbar specific elements - only for main email list, not opened email view */
body.dark-mode .nH.aqK:not(.Cr.aqJ .nH.aqK) {
  background: #141414 !important;
}

body.dark-mode .Cq.aqL {
  background: #141414 !important;
}





body.dark-mode .bzn {
  background: #141414 !important;
}

body.dark-mode .G-tF {
  background: #141414 !important;
}

body.dark-mode .G-Ni {
  background: #141414 !important;
}

/* Pagination controls */
body.dark-mode .ar5 {
  background: #141414 !important;
  background-color: #141414 !important;
}

body.dark-mode .Di {
  background: #141414 !important;
  background-color: #141414 !important;
}

body.dark-mode .amH {
  background: #141414 !important;
  background-color: #141414 !important;
}

body.dark-mode .amD {
  background: #141414 !important;
  background-color: #141414 !important;
}

body.dark-mode .amG {
  background: #141414 !important;
  background-color: #141414 !important;
}

/* Additional pagination elements */
body.dark-mode .Dj {
  background: #141414 !important;
  background-color: #141414 !important;
}

body.dark-mode .ts {
  background: #141414 !important;
  background-color: #141414 !important;
}

/* Search bar */
body.dark-mode header form {
  background: #141414 !important;
}

body.dark-mode header form input {
  color: #ffffff !important;
  background-color: transparent !important;
}

body.dark-mode header form input::placeholder {
  color: #c7c7c7 !important;
}



/* Avatar styling */
body.dark-mode .avatar {
  color: #ffffff !important;
  background-color: inherit !important;
}

body.dark-mode .avatar[style*="background-color"] {
  opacity: 1 !important;
}

/* Archive button - dark mode styling */
body.dark-mode .brq,
body.dark-mode .ar8,
body.dark-mode .ar8.T-I-J3.J-J5-Ji {
  background-color: #9f9f9f !important; /* Light grey for better visibility in dark mode */
}

/* QUICK SETTINGS PANEL */
body.dark-mode .IU {
  background-color: #141414 !important;
}

body.dark-mode .IU .VO,
body.dark-mode .IU .OG {
  color: #f1f1f1 !important;
}

body.dark-mode .IU .a21,
body.dark-mode .IU .Q2,
body.dark-mode .IU .ST {
  color: #e0e0e0 !important;
}

body.dark-mode fieldset.VM.aiL {
  background-color: #252526 !important;
}

body.dark-mode .IU .OD,
body.dark-mode .IU .Tj {
  color: #8ab4f8 !important;
}



body.dark-mode .nH.fY [role="presentation"] a.f0 {
  color: #a0a0a0 !important;
  opacity: 1 !important;
}

body.dark-mode .nH.fY [role="presentation"] a.f0:hover {
  color: #8ab4f8 !important;
}

body.dark-mode .nH.fY [role="presentation"] a.f0[aria-selected="true"] {
  color: #8ab4f8 !important;
  border-bottom: 2px solid #8ab4f8 !important;
}

/* EMAIL VIEWER */
body.dark-mode .AO {
  color: #e0e0e0 !important;
}

body.dark-mode .AO a {
  color: #8ab4f8 !important;
}

/* LABELS AND CHIPS */
body.dark-mode .at9,
body.dark-mode .at9 * {
  background-color: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

/* DROPDOWN MENUS - removed black background */

/* EMPTY INBOX DARK IMAGE */
body.dark-mode .ar4.z .TD > .TC {
  background-image: url('chrome-extension://__MSG_@@extension_id__/images/ic_zero_inbox_2x_dark.png') !important;
  background-repeat: no-repeat;
  background-position: center;
  padding-top: 30px;
  height: 618px;
  width: 456px;
  background-color: #292929;
  color: transparent;
  font-size: 14px;
}

@-moz-document url-prefix() {
  body.dark-mode .ar4.z .TD > .TC {
    background-image: url('moz-extension://__MSG_@@extension_id__/images/ic_zero_inbox_2x_dark.png') !important;
  }
}
body.dark-mode .ar4,
body.dark-mode .aBO,
body.dark-mode .aB6,
body.dark-mode .bn .bl,
body.dark-mode .bzJiD,
body.dark-mode .vIO7af,
body.dark-mode .no,
body.dark-mode .Tm.aeJ,
body.dark-mode .brC-aT5-aOt-Jw,
body.dark-mode .aj5 .J-KU,
body.dark-mode .aj5.J-KU-Jg,
body.dark-mode .aKh,
body.dark-mode .aRs {
  background: #2a2a2a !important;
}
body.dark-mode .zA,
body.dark-mode .zA:hover,
body.dark-mode .Bs.nH.iY.bAt {
  background: #2a2a2a !important;
  color: #ffffff !important;
}
body.dark-mode .zA * {
  color: #ffffff !important;
}
body.dark-mode .TO .nU > .n0,
body.dark-mode .TO.NQ .nU > .n0,
body.dark-mode .TO.nZ .nU > .n0,
body.dark-mode .ah9 > .CJ,
body.dark-mode .n3 > .CL > .CK,
body.dark-mode .aAv {
  color: #c7c7c7 !important;
}
body.dark-mode .TO.nZ .n0 {
  color: #ffffff !important;
}
body.dark-mode .TO .n0 {
  color: #c7c7c7 !important;
}
body.dark-mode .brc {
  background-color: #3b3b3b !important;
  color: #ffffff !important;
  box-shadow: 0 0 1px rgba(0,0,0,.31), 0 1px 2px rgba(0,0,0,.42) !important;
}
body.dark-mode .bundle-senders {
  color: #ffffff !important;
}
body.dark-mode .bundle-wrapper .label-link .bundle-count {
  color: #c7c7c7 !important;
}
body.dark-mode .calendar-attachment .event-time {
  color: #c7c7c7 !important;
}
body.dark-mode .time {
  color: #c7c7c7 !important;
}
body.dark-mode .nH.bkK.nn + .nH.nn {
  background-color: #3b3b3b !important;
}
body.dark-mode .IU {
  background-color: #3b3b3b !important;
}
body.dark-mode .wT > .n3 .byl:first-child .aim:first-child .nZ {
  background-color: rgba(255,255,255,.05) !important;
}
/* ========================================
   EMAIL VIEWS - DARK MODE STYLING
   ======================================== */
body.dark-mode .nH.a98.iY.aHo {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
}

/* Email content text colors - make text light for dark background */
body.dark-mode .nH.a98.iY.aHo * {
  color: #e8eaed !important; /* Light grey text for dark background */
}

/* Email header elements */
body.dark-mode .nH.a98.iY.aHo .hP {
  color: #e8eaed !important; /* Subject line - light grey */
}

body.dark-mode .nH.a98.iY.aHo .gD {
  color: #e8eaed !important; /* Sender name - light grey */
}

body.dark-mode .nH.a98.iY.aHo .aXjCH {
  color: #9aa0a6 !important; /* Timestamp - medium grey */
}

/* Email action buttons/icons */
body.dark-mode .nH.a98.iY.aHo .T-I {
  color: #9aa0a6 !important; /* Action icons like print, star, etc. */
}

body.dark-mode .nH.a98.iY.aHo .T-I:hover {
  color: #e8eaed !important; /* Lighter on hover */
}

/* Email body content */
body.dark-mode .nH.a98.iY.aHo .a3s {
  color: #e8eaed !important; /* Email body text - light grey */
}

/* Links in email */
body.dark-mode .nH.a98.iY.aHo a {
  color: #8ab4f8 !important; /* Light blue for dark background */
}

body.dark-mode .nH.a98.iY.aHo a:hover {
  color: #aecbfa !important; /* Lighter blue on hover */
}

/* Reply/Forward buttons - target the actual button containers */
body.dark-mode .nH.a98.iY.aHo .T-I.J-J5-Ji.T-I-ax7 {
  color: #202124 !important; /* Dark text for light button background */
  background-color: #ffffff !important;
  border: 1px solid #dadce0 !important;
}

body.dark-mode .nH.a98.iY.aHo .T-I.J-J5-Ji.T-I-ax7:hover {
  color: #202124 !important;
  background-color: #f8f9fa !important;
}

/* Email header dropdown menu - target specific class */
body.dark-mode .nH.a98.iY.aHo .ajA.SK {
  background-color: #2a2a2a !important;
  color: #e8eaed !important;
  border: 1px solid #5f6368 !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3) !important;
}

/* Dropdown menu content */
body.dark-mode .nH.a98.iY.aHo .ajA.SK * {
  color: #e8eaed !important;
}

/* Dropdown menu item hover states */
body.dark-mode .nH.a98.iY.aHo .ajA.SK div:hover {
  background-color: #3c4043 !important;
}

/* Links in dropdown */
body.dark-mode .nH.a98.iY.aHo .ajA.SK a {
  color: #8ab4f8 !important;
}

body.dark-mode .nH.a98.iY.aHo .ajA.SK a:hover {
  color: #aecbfa !important;
}

/* Action icons (print, star, etc.) - exclude reply/forward buttons */
body.dark-mode .nH.a98.iY.aHo .T-I:not(.J-J5-Ji) {
  background-color: transparent !important;
  border: none !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
  outline: none !important;
  box-shadow: none !important;
}

body.dark-mode .nH.a98.iY.aHo .T-I:not(.J-J5-Ji):hover {
  background-color: transparent !important;
  border: none !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
  outline: none !important;
  box-shadow: none !important;
}
/* ========================================
   EMAIL LIST VIEW (when browsing emails)
   ======================================== */

/* Email list container background */
body.dark-mode .nH.ar4.z {
  background: #141414 !important;
}   

/* Email list container - overall background */
body.dark-mode .wT {
  background-color: #4c4c4c !important;
}

/* Individual email rows in the list */
body.dark-mode .zA,
body.dark-mode .zA:hover,
body.dark-mode .Bs.nH.iY.bAt {
  background: #141414 !important;
  color: #ffffff !important;
}

/* Email list scrollable area */
body.dark-mode .nH .AO .aeF {
  background: #141414 !important;
}

/* Email list container */
body.dark-mode .nH .AO {
  background: #141414 !important;
}


body.dark-mode .bundle-wrapper:not(.contains-unread) .bundle-image img {
  opacity: 0.8;
}
body.dark-mode .brc .brg {
  color: #ffffff !important;
}
body.dark-mode .aEe,
body.dark-mode .aEc.aHS-bnr .qj {
  background-color: transparent !important;
  -webkit-mask-image: none !important;
  mask-image: none !important;
}

/* Override the above rule for Categories to preserve its mask-image */
body.dark-mode [data-tooltip="Categories"] .aEc.aHS-bnr .qj {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #9f9f9f !important;
  background-image: none !important;
}

/* Firefox-specific dark mode override for Categories */
@-moz-document url-prefix() {
  body.dark-mode [data-tooltip="Categories"] .aEc.aHS-bnr .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #9f9f9f !important;
    background-image: none !important;
  }
}

/* Labels - let Gmail use default colorful icons in dark mode too */
body.dark-mode .aHS-bnr .qj,
body.dark-mode .zw .aHS-bnr .qj {
  /* Let Gmail use its default colorful square icons */
}
body.dark-mode .G4, body.dark-mode .GR, body.dark-mode div[aria-label="Inbox tip"] {
  box-shadow: 0 -1px 0 #3b3b3b, 0 0 2px rgba(0,0,0,.32), 0 2px 4px rgba(0,0,0,.44) !important;
}
body.dark-mode .D.E.G-atb {
  background: #141414 !important;
}
body.dark-mode .nH > .ha > .J-J5-Ji,
body.dark-mode .nH > .nH > .hj > .ade,
body.dark-mode .iw > .qu > .go {
  display: none !important;
}
body.dark-mode .aTV {
  border-color: transparent transparent #3b3b3b #3b3b3b !important;
}
body.dark-mode .nH.aqK {
  background: #141414 !important;
}
body.dark-mode .no {
  background-color: #141414 !important;
}
body.dark-mode .aB6,
body.dark-mode .bn .bl {
  background-color: #2a2a2a !important;
}
body.dark-mode .aBO {
  background-color: #2a2a2a !important;
}
body.dark-mode .bzJiD,
body.dark-mode .vIO7af {
  background: #2a2a2a !important;
}
body.dark-mode .ar4.z .TD > .TC {
  background-color: #141414 !important;
}
body.dark-mode .nH.bkK.nn + .nH.nn {
  background-color: #3b3b3b !important;
}
body.dark-mode [aria-label="Hangouts"][role="complementary"] {
  background-color: #2a2a2a !important;
}

body.dark-mode .nH.bAw.nn {
  background-color: #141414 !important;
}

body.dark-mode .bAw.bcf {
  background-color: #141414 !important;
}

body.dark-mode .Tm.aeJ {
  background-color: #141414 !important;
  background: #141414 !important;
}

/* Email view scrollbar styling */
body.dark-mode .Tm.aeJ::-webkit-scrollbar {
  width: 8px !important;
  background-color: transparent !important;
}

body.dark-mode .Tm.aeJ::-webkit-scrollbar-track {
  background-color: transparent !important;
  border-radius: 4px !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

body.dark-mode .Tm.aeJ::-webkit-scrollbar-thumb {
  background-color: #141414 !important;
  border-radius: 4px !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

body.dark-mode .Tm.aeJ:hover::-webkit-scrollbar-thumb {
  background-color: #323232 !important;
}

body.dark-mode .Tm.aeJ::-webkit-scrollbar-thumb:hover {
  background-color: #323232 !important;
}

/* Firefox scrollbar styling */
@-moz-document url-prefix() {
  body.dark-mode .Tm.aeJ {
    scrollbar-width: thin !important;
    scrollbar-color: #141414 transparent !important;
  }
  
  body.dark-mode .Tm.aeJ:hover {
    scrollbar-color: #323232 transparent !important;
  }
}

/* =============================================================================
   EMAIL LIST SCROLLBAR STYLING (DARK MODE)
   ============================================================================= */

/* Dark mode email list scrollbar styling */
body.dark-mode .aeF::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  transition: background 0.2s !important;
}

body.dark-mode .aeF::-webkit-scrollbar-thumb {
  background: transparent !important;
  border-radius: 8px !important;
  transition: background 0.2s !important;
}

body.dark-mode .aeF:hover::-webkit-scrollbar-thumb,
body.dark-mode .aeF:active::-webkit-scrollbar-thumb {
  background: #323232 !important;
}

body.dark-mode .aeF:not(:hover)::-webkit-scrollbar-thumb {
  background: transparent !important;
}

/* Firefox scrollbar styling for dark mode */
@-moz-document url-prefix() {
  body.dark-mode .aeF {
    scrollbar-width: thin !important;
    scrollbar-color: transparent transparent !important;
    transition: scrollbar-color 0.2s !important;
  }
  
  body.dark-mode .aeF:hover {
    scrollbar-color: #323232 transparent !important;
  }
  
  body.dark-mode .aeF:not(:hover) {
    scrollbar-color: transparent transparent !important;
  }
}

/* =============================================================================
   EMAIL PREVIEW SCROLLBAR STYLING (LIGHT MODE)
   ============================================================================= */

/* Light mode email preview scrollbar styling */
.Tm.aeJ::-webkit-scrollbar {
  width: 8px !important;
  background-color: transparent !important;
}

.Tm.aeJ::-webkit-scrollbar-track {
  background-color: transparent !important;
  border-radius: 4px !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

.Tm.aeJ::-webkit-scrollbar-thumb {
  background-color: transparent !important;
  border-radius: 4px !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

.Tm.aeJ:hover::-webkit-scrollbar-thumb {
  background-color: #a1a1a1 !important;
}

.Tm.aeJ::-webkit-scrollbar-thumb:hover {
  background-color: #a1a1a1 !important;
}

/* Firefox scrollbar styling for light mode */
@-moz-document url-prefix() {
  .Tm.aeJ {
    scrollbar-width: thin !important;
    scrollbar-color: transparent transparent !important;
  }
  
  .Tm.aeJ:hover {
    scrollbar-color: #a1a1a1 transparent !important;
  }
}

body.dark-mode .nH.ar4.C {
  background-color: #141414 !important;
  background: #141414 !important;
}

body.dark-mode .aUx {
  background-color: #141414 !important;
  background: #141414 !important;
}

/* Email row backgrounds - different colors for read vs unread */
body.dark-mode .zA.yO {
  background: #2a2a2a !important; /* Slightly lighter for read emails */
}

body.dark-mode .zA.yO.zE {
  background: #4c4c4c !important; /* Even lighter for unread emails */
}


body.dark-mode .zA .apU.xY .T-KT::before,
body.dark-mode .zA .apU.xY .T-KT.xl::before,
body.dark-mode .zA .apU.xY .T-KT.T-KT-Jp::before,
body.dark-mode .zA .apU.xY .T-KT.xn::before,
body.dark-mode .zA .apU.xY .T-KT.xm::before,
body.dark-mode .zA .apU.xY .T-KT.xj::before,
body.dark-mode .zA .apU.xY .T-KT.xk::before {
  /* Keep star images, do not recolor */
}
body.dark-mode .zA .apU.xY .T-KT.xg::before,
body.dark-mode .zA .apU.xY .T-KT.xe::before,
body.dark-mode .zA .apU.xY .T-KT.xh::before,
body.dark-mode .zA .apU.xY .T-KT.xd::before,
body.dark-mode .zA .apU.xY .T-KT.xc::before,
body.dark-mode .zA .apU.xY .T-KT.xf::before {
  /* Keep cleardot gif */
}

/* Dark mode star icons - use SVG with mask-image approach */
body.dark-mode .zA .apU.xY .T-KT::before,
body.dark-mode .zA .apU.xY .T-KT.xl::before {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}
body.dark-mode .brc {
  background-color: #3b3b3b !important;
  color: #ffffff !important;
}
body.dark-mode .calendar-attachment .event-time {
  color: #c7c7c7 !important;
}
body.dark-mode .bundle-wrapper .label-link .bundle-count {
  color: #c7c7c7 !important;
}
body.dark-mode .bundle-senders {
  color: #ffffff !important;
}


body.dark-mode .D.E.G-atb::before {
  box-shadow: none !important;
}
body.dark-mode header svg {
  color: #ffffff !important;
}
body.dark-mode header form {
  background: #141414 !important;
}
body.dark-mode header form input {
  color: #ffffff !important;
  background-color: transparent !important;
}
body.dark-mode header form input::placeholder {
  color: #c7c7c7 !important;
}
body.dark-mode .Yc {
  color: #ffffff !important;
}
body.dark-mode .aHS-bnr .qj,
body.dark-mode .aEc.aHS-bnr .qj,
body.dark-mode .aEe {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

/* Dark mode overrides for specific icons - use #9f9f9f with proper mask-image to prevent Google icons showing through */
body.dark-mode .aHS-bnu .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-bnq .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-aHO .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-bnx .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-bnv .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-bns .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-nd .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode .aHS-aHP .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
  -webkit-mask-size: 20px !important;
  mask-size: 20px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode [data-tooltip="Categories"] .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode [data-tooltip="Social"] .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode [data-tooltip="Updates"] .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode [data-tooltip="Forums"] .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

body.dark-mode [data-tooltip="Promotions"] .qj {
  background-color: #9f9f9f !important;
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-image: none !important;
}

/* Firefox-specific dark mode overrides for all icons */
@-moz-document url-prefix() {
  body.dark-mode .aHS-bnu .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_send_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-bnq .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_drafts_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-aHO .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_all_mail_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-bnx .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_trash_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-bnv .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_spam_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-bns .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  /* Firefox dark mode star icons - email list */
  body.dark-mode .zA .apU.xY .T-KT::before,
  body.dark-mode .zA .apU.xY .T-KT.xl::before {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/keep_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-nd .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_schedule_send_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode .aHS-aHP .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_chat_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  /* Labels - Firefox Dark Mode */
  body.dark-mode .aHS-bnr .qj,
  body.dark-mode .aEc.aHS-bnr .qj,
  body.dark-mode .aEe {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/label_important_20dp_FFFFFF_FILL1_wght400_GRAD0_opsz20.svg') !important;
    -webkit-mask-size: 20px !important;
    mask-size: 20px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode [data-tooltip="Categories"] .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode [data-tooltip="Social"] .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_social_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode [data-tooltip="Updates"] .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_updates_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode [data-tooltip="Forums"] .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_forums_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }

  body.dark-mode [data-tooltip="Promotions"] .qj {
    background-color: #9f9f9f !important;
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_promotions_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-image: none !important;
  }
}
body.dark-mode .wT > .n3 .byl:first-child .aim:first-child .nZ {
  background-color: rgba(255,255,255,.05) !important;
}
body.dark-mode .aKk>tbody, .body.dark-mode .aAA, .body.dark-mode .aRz.J-KU {
  background: #2a2a2a !important;
}

/* Dark mode: highlight active sidebar menu item */
body.dark-mode .TO.nZ {
  /* slightly lighter row for active state */
  background-color: #383838 !important;
}
/* Ensure the label text on the active row stays fully white */
body.dark-mode .TO.nZ .nU > .n0 {
  color: #ffffff !important;
}
/* Ensure the icon on the active row is also bright enough */
body.dark-mode .TO.nZ .qj {
  opacity: 1 !important;
}

body.dark-mode .G4, body.dark-mode .GR, body.dark-mode div[aria-label="Inbox tip"] {
  box-shadow: 0 -1px 0 #3b3b3b, 0 0 2px rgba(0,0,0,.32), 0 2px 4px rgba(0,0,0,.44) !important;
}

/* Dark Mode: Header Bar Color Overrides (darker variants) */
body.dark-mode .w-asV.bbg.aiw {
  background-color: #636360 !important; /* default darker gray */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="inbox"] {
  background-color: #3060b0 !important; /* darker blue */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="starred"] {
  background-color: #b58b20 !important; /* darker yellow */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="snoozed"] {
  background-color: #ad4d00 !important; /* darker orange */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="sent"] {
  background-color: #006d63 !important; /* darker teal */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="drafts"] {
  background-color: #665047 !important; /* darker brown */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="all"] {
  background-color: #3060b0 !important; /* darker blue */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="spam"] {
  background-color: #9c231a !important; /* darker red */
}
body.dark-mode .w-asV.bbg.aiw[pageTitle="trash"] {
  background-color: #45474b !important; /* darker gray */
}
/* Social */
body.dark-mode .w-asV.bbg.aiw[pageTitle="social"] {
  background-color: #006d63 !important; /* darker teal */
}
/* Updates */
body.dark-mode .w-asV.bbg.aiw[pageTitle="updates"] {
  background-color: #b97800 !important; /* darker gold */
}
/* Forums */
body.dark-mode .w-asV.bbg.aiw[pageTitle="forums"] {
  background-color: #883a68 !important; /* darker purple */
}
/* Promotions */
body.dark-mode .w-asV.bbg.aiw[pageTitle="promotions"] {
  background-color: #648d36 !important; /* darker green */
}
/* Important */
body.dark-mode .w-asV.bbg.aiw[pageTitle="imp"] {
  background-color: #b83f19 !important; /* darker red-orange */
}
/* Scheduled */
body.dark-mode .w-asV.bbg.aiw[pageTitle="scheduled"] {
  background-color: #258458 !important; /* darker green */
}
/* Subscriptions */
body.dark-mode .w-asV.bbg.aiw[pageTitle="sub"] {
  background-color: #007c8c !important; /* darker cyan */
}
/* Labels */
body.dark-mode .w-asV.bbg.aiw[pageTitle="labels"],
body.dark-mode .w-asV.bbg.aiw[pageTitle="label"] {
  background-color: #4462b1 !important; /* darker indigo */
}
/* Archive */
body.dark-mode .w-asV.bbg.aiw[pageTitle="archive"] {
  background-color: #0b7244 !important; /* darker green */
}
/* Chat & Onboarding */
body.dark-mode .w-asV.bbg.aiw[pageTitle="chat"],
body.dark-mode .w-asV.bbg.aiw[pageTitle="onboarding"] {
  background-color: #007c33 !important; /* darker green */
}
/* Meet */
body.dark-mode .w-asV.bbg.aiw[pageTitle="calls"] {
  background-color: #9e3128 !important; /* darker red */
}





/* Make recipient chips more visible */
body.dark-mode .vR,
body.dark-mode .vN {
  background-color: #3c3c3c !important;
  color: white !important;
}

/* Make "Draft saved" text visible */
body.dark-mode .aYF {
  color: #8ab4f8 !important;
}

/* Make toolbar dividers visible */
body.dark-mode .oc {
  border-color: #444 !important;
}

/* Make dropdown menus readable - removed black background */

body.dark-mode .avatar {
  color: #ffffff !important;
}

body.dark-mode .avatar[style*="background-color"] {
  opacity: 1 !important;
  background-color: inherit !important;
}

/* Let Gmail use its default colorful icons for system labels */

/* Dark Mode Quick Settings Panel Fix */
body.dark-mode .IU {
  background-color: #141414 !important;
}

/* Headers like "Quick settings", "Density", "Apps in Gmail" */
body.dark-mode .IU .VO,
body.dark-mode .IU .OG {
  color: #f1f1f1 !important;
}

/* Text labels for the options */
body.dark-mode .IU .a21, /* "Chat and Meet" */
body.dark-mode .IU .Q2,  /* Radio button labels */
body.dark-mode .IU .ST   /* Checkbox labels */
{
  color: #e0e0e0 !important;
}

/* The container for each section */
body.dark-mode fieldset.VM.aiL {
    background-color: #252526 !important;
}

/* Links like "Customize" and "View All" */
body.dark-mode .IU .OD,
body.dark-mode .IU .Tj {
  color: #8ab4f8 !important;
}

/* Invert icons and previews */
body.dark-mode .IU .a2U, /* Chat and Meet icon */
body.dark-mode .IU .QZ,  /* Density previews */
body.dark-mode .IU .Vm,  /* Inbox Type previews */
body.dark-mode .IU .XK   /* Reading Pane previews */
{
  filter: invert(0.85) brightness(1.5) !important;
}

/* Do not invert theme previews */
body.dark-mode .IU .OF {
  filter: none !important;
}

/* Radio button styling */
body.dark-mode .IU .Vo {
  border: 2px solid #888 !important;
  background-color: transparent !important;
}

body.dark-mode .IU .Q1:checked + .Vo {
  border-color: #8ab4f8 !important;
}

body.dark-mode .IU .Q1:checked + .Vo::after {
   display: block;
   content: '';
   width: 8px;
   height: 8px;
   position: relative;
   top: 2px;
   left: 2px;
   border-radius: 50%;
   background-color: #8ab4f8 !important;
}

/* Checkbox Styling */
body.dark-mode .IU .SS + .ST::before {
    border-color: #888 !important;
}
body.dark-mode .IU .SS:checked + .ST::before {
    background-color: #8ab4f8 !important;
    border-color: #8ab4f8 !important;
}
body.dark-mode .IU .SS:checked + .ST::after {
    border-bottom: 2px solid #252526 !important;
    border-right: 2px solid #252526 !important;
}

/* Remove the boxes around the radio button options */
body.dark-mode .IU .QX,
body.dark-mode .IU .Vn,
body.dark-mode .IU .XL {
    border: 1px solid transparent !important;
    background: transparent !important;
}

/* Also remove border from the preview images by default */
body.dark-mode .IU .QZ,
body.dark-mode .IU .Vm,
body.dark-mode .IU .XK {
    border: 1px solid transparent !important;
}

/* Add a blue border to the selected image to indicate selection */
body.dark-mode .IU input:checked ~ img {
    border-radius: 6px !important;
    border: 2px solid #8ab4f8 !important;
}

/* Ensure the text part of a selected row has no special background or border */
body.dark-mode .IU input:checked ~ div {
  background-color: transparent !important;
  border: none !important;
}

body.dark-mode .IU .Q1:checked + .Vo {
  border-color: #8ab4f8 !important;
}

/* --- Final Attempt: Force remove borders from option labels --- */
body.dark-mode .QX, body.dark-mode .Vn, body.dark-mode .XL {
    border: 1px solid transparent !important;
}

/* Remove boxes around radio buttons in dark mode */
body.dark-mode .Vo {
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
}

body.dark-mode .Q1:checked + .Vo {
    border: none !important;
    background: transparent !important;
}

body.dark-mode .Q1:checked + .Vo::after {
    content: '';
    display: block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #8ab4f8 !important;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* Remove boxes around radio buttons in dark mode for ALL sections */
body.dark-mode .QX,
body.dark-mode .Vn,
body.dark-mode .XL {
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
}

body.dark-mode .QX label,
body.dark-mode .Vn label,
body.dark-mode .XL label {
    border: none !important;
    background: transparent !important;
}

/* Ensure the radio button indicator is clean */
body.dark-mode .Vo,
body.dark-mode .Q1 + .Vo {
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
}

/* Selected state indicator */
body.dark-mode .Q1:checked + .Vo::after {
    content: '';
    display: block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #8ab4f8 !important;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* Dark Mode Settings Tabs Styling */
body.dark-mode .nH.fY [role="presentation"] a.f0 {
    color: #a0a0a0 !important;  /* Lighter gray for better readability */
    opacity: 1 !important;  /* Remove opacity reduction */
    transition: color 0.2s ease;
}

body.dark-mode .nH.fY [role="presentation"] a.f0:hover {
    color: #8ab4f8 !important;
}

body.dark-mode .nH.fY [role="presentation"] a.f0[aria-selected="true"] {
    color: #8ab4f8 !important;
    border-bottom: 2px solid #8ab4f8 !important;
}

body.dark-mode .nH.fY [role="presentation"] {
    background-color: transparent !important;
}

/* Dark Mode Theme Selection Dialog Styling */
body.dark-mode .uW2Fw-bHo {
    background-color: #252526 !important;
    color: #e0e0e0 !important;
}

/* Theme selection dialog header */
body.dark-mode .uW2Fw-bHo .cER4xe {
    color: #f1f1f1 !important;
}

/* Theme preview containers */
body.dark-mode .uW2Fw-bHo .a7H {
    background-color: #141414 !important;
    border: 1px solid #444 !important;
}

/* Theme preview labels */
body.dark-mode .uW2Fw-bHo .a7N {
    background-color: rgba(45, 45, 48, 0.8) !important;
}

body.dark-mode .uW2Fw-bHo .a9J {
    color: #e0e0e0 !important;
}

/* Buttons styling */
body.dark-mode .uW2Fw-bHo .mUIrbf-I {
    background-color: #3a3a3a !important;
    color: #e0e0e0 !important;
    border: 1px solid #555 !important;
}

body.dark-mode .uW2Fw-bHo .mUIrbf-I:hover {
    background-color: #9f9f9f !important;
}

body.dark-mode .uW2Fw-bHo .eV8l8d {
    background-color: #8ab4f8 !important;
    color: #252526 !important;
}

/* More Images and My Photos buttons */
body.dark-mode .uW2Fw-bHo .fQ1uhf,
body.dark-mode .uW2Fw-bHo .PKBsLc button {
    background-color: #141414 !important;
    color: #e0e0e0 !important;
    border: 1px solid #444 !important;
}

body.dark-mode .uW2Fw-bHo .fQ1uhf:hover,
body.dark-mode .uW2Fw-bHo .PKBsLc button:hover {
    background-color: #3a3a3a !important;
}

/* Dark Mode Theme Selection Dialog Enhanced Styling */
body.dark-mode .uW2Fw-bHo {
    background-color: #252526 !important;
    color: #e0e0e0 !important;
}

/* Theme selection dialog header */
body.dark-mode .uW2Fw-bHo .cER4xe {
    color: #f1f1f1 !important;
}

/* Custom theme preview containers */
body.dark-mode .uW2Fw-bHo .a7H {
    background-color: #141414 !important;
    border: 1px solid #444 !important;
    transition: transform 0.2s ease;
}

body.dark-mode .uW2Fw-bHo .a7H:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

/* Ensure theme images are fully visible */
body.dark-mode .uW2Fw-bHo .a7G {
    opacity: 1 !important;
    filter: brightness(0.8);
    transition: filter 0.2s ease;
}

body.dark-mode .uW2Fw-bHo .a7G:hover {
    filter: brightness(1);
}

/* Theme preview labels */
body.dark-mode .uW2Fw-bHo .a7N {
    background-color: rgba(45, 45, 48, 0.8) !important;
}

body.dark-mode .uW2Fw-bHo .a9J {
    color: #e0e0e0 !important;
}

/* Buttons styling - More prominent and clear */
body.dark-mode .uW2Fw-bHo .mUIrbf-I {
    background-color: #3a3a3a !important;
    color: #e0e0e0 !important;
    border: 1px solid #555 !important;
    transition: background-color 0.2s ease, color 0.2s ease;
}

body.dark-mode .uW2Fw-bHo .mUIrbf-I:hover {
    background-color: #9f9f9f !important;
    color: white !important;
}

/* Save button - more prominent */
body.dark-mode .uW2Fw-bHo .eV8l8d {
    background-color: #8ab4f8 !important;
    color: white !important;
    border: 1px solid #8ab4f8 !important;
    font-weight: bold;
}

body.dark-mode .uW2Fw-bHo .eV8l8d:hover {
    background-color: #a0c4f9 !important;
}

/* More Images and My Photos buttons */
body.dark-mode .uW2Fw-bHo .fQ1uhf,
body.dark-mode .uW2Fw-bHo .PKBsLc button {
    background-color: #141414 !important;
    color: #e0e0e0 !important;
    border: 1px solid #444 !important;
    transition: background-color 0.2s ease;
}

body.dark-mode .uW2Fw-bHo .fQ1uhf:hover,
body.dark-mode .uW2Fw-bHo .PKBsLc button:hover {
    background-color: #3a3a3a !important;
    color: white !important;
}

/* Aggressive Dark Mode Theme Selection Dialog Styling */
body.dark-mode .uW2Fw-bHo .a7G {
    opacity: 1 !important;
    filter: brightness(1) !important;
    mix-blend-mode: normal !important;
}

body.dark-mode .uW2Fw-bHo .a7H {
    background-color: transparent !important;
    border: none !important;
}

body.dark-mode .uW2Fw-bHo .a7N {
    background-color: rgba(0,0,0,0.5) !important;
}

/* Buttons with high contrast */
body.dark-mode .uW2Fw-bHo .mUIrbf-I {
    background-color: #3a3a3a !important;
    color: #ffffff !important;
    border: 1px solid #666 !important;
}

body.dark-mode .uW2Fw-bHo .eV8l8d {
    background-color: #4285f4 !important;
    color: white !important;
    border: 1px solid #4285f4 !important;
}

body.dark-mode .uW2Fw-bHo .mUIrbf-I:hover,
body.dark-mode .uW2Fw-bHo .eV8l8d:hover {
    opacity: 0.9 !important;
}

/* Ensure text visibility */
body.dark-mode .uW2Fw-bHo .a9J,
body.dark-mode .uW2Fw-bHo .mUIrbf-anl {
    color: #ffffff !important;
}

/* Extremely Aggressive Dark Mode Theme Selection Dialog Styling */
body.dark-mode .uW2Fw-bHo .a7G,
body.dark-mode .uW2Fw-bHo img.a7G,
body.dark-mode .uW2Fw-bHo .a7H img.a7G {
    opacity: 1 !important;
    filter: brightness(1) contrast(1) saturate(1) !important;
    mix-blend-mode: normal !important;
    max-width: 100% !important;
    max-height: 300px !important;
    object-fit: cover !important;
}

body.dark-mode .uW2Fw-bHo .a7H,
body.dark-mode .uW2Fw-bHo .a7Y {
    background-color: transparent !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
    transition: all 0.3s ease !important;
}

body.dark-mode .uW2Fw-bHo .a7H:hover,
body.dark-mode .uW2Fw-bHo .a7Y:hover {
    transform: scale(1.05) !important;
    box-shadow: 0 0 10px rgba(255,255,255,0.2) !important;
}

body.dark-mode .uW2Fw-bHo .a7N {
    background-color: rgba(0,0,0,0.5) !important;
    color: #ffffff !important;
}

body.dark-mode .uW2Fw-bHo .a9J {
    color: #ffffff !important;
}

/* Button Styling with Maximum Contrast */
body.dark-mode .uW2Fw-bHo .mUIrbf-I,
body.dark-mode .uW2Fw-bHo .PKBsLc button {
    background-color: #3a3a3a !important;
    color: #ffffff !important;
    border: 1px solid #666 !important;
    transition: all 0.2s ease !important;
}

body.dark-mode .uW2Fw-bHo .eV8l8d {
    background-color: #4285f4 !important;
    color: white !important;
    border: 1px solid #4285f4 !important;
    font-weight: bold !important;
}

body.dark-mode .uW2Fw-bHo .mUIrbf-I:hover,
body.dark-mode .uW2Fw-bHo .eV8l8d:hover {
    opacity: 0.9 !important;
}

/* Ensure text visibility */
body.dark-mode .uW2Fw-bHo .mUIrbf-anl,
body.dark-mode .uW2Fw-bHo .a7C {
    color: #ffffff !important;
}

/* More Images section */
body.dark-mode .uW2Fw-bHo .fQ1uhf {
    background-color: #141414 !important;
    color: #ffffff !important;
    border: 1px solid #444 !important;
}

/* Dark Mode Theme Selection Dialog Fix */
body.dark-mode .uW2Fw-bHo {
    background-color: #252526 !important;
    color: #ffffff !important;
}

body.dark-mode .uW2Fw-bHo .a7G {
    opacity: 1 !important;
    filter: brightness(0.9) !important;
    transition: filter 0.2s ease !important;
}

body.dark-mode .uW2Fw-bHo .a7G:hover {
    filter: brightness(1) !important;
}

body.dark-mode .uW2Fw-bHo .a7H,
body.dark-mode .uW2Fw-bHo .a7Y {
    background-color: transparent !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
}

body.dark-mode .uW2Fw-bHo .a7N {
    background-color: rgba(0,0,0,0.5) !important;
}

body.dark-mode .uW2Fw-bHo .a9J {
    color: #ffffff !important;
}

body.dark-mode .uW2Fw-bHo .mUIrbf-I {
    background-color: #3a3a3a !important;
    color: #ffffff !important;
    border: 1px solid #555 !important;
}

body.dark-mode .uW2Fw-bHo .eV8l8d {
    background-color: #4285f4 !important;
    color: white !important;
    border: 1px solid #4285f4 !important;
}

body.dark-mode .uW2Fw-bHo .fQ1uhf {
    background-color: #141414 !important;
    color: #ffffff !important;
    border: 1px solid #444 !important;
}

body.dark-mode .uW2Fw-bHo .cER4xe {
    color: #ffffff !important;
}

/* Dark Mode Theme Dialog Overlay Fix */
body.dark-mode .uW2Fw-bHo .a7U,
body.dark-mode .uW2Fw-bHo .a7R {
    display: none !important; /* remove dark overlays over thumbnails */
}

/* Ensure button labels are bright */
body.dark-mode .uW2Fw-bHo .mUIrbf-anl {
    color: #ffffff !important;
}

/* Dark mode: highlight UNREAD email rows */


/* =============================
   Dark mode: compose window icon visibility
   ============================= */
body.dark-mode .aaA,
body.dark-mode .aaB,
body.dark-mode .J-J5-Ji .aaA,
body.dark-mode .J-J5-Ji .aaB,
body.dark-mode .Hl,
body.dark-mode .Hk,
body.dark-mode .Hq,
body.dark-mode .Ha,
body.dark-mode .e5 .J-Z-I div[class*="aaA"],
body.dark-mode .e5 .J-Z-I div[class*="aaB"] {
  filter: brightness(0) invert(1); /* glyphs white, keep transparency */
}

body.dark-mode .aaA,
body.dark-mode .aaB {
  background-color: transparent !important; /* eliminate white square */
}

/* Dark mode: compose icon glyphs (a3I) */
body.dark-mode .a3I {
  background-color: transparent !important; /* remove square */
  filter: invert(1) !important; /* black glyph -> white */
}

/* Dark mode: reset wrapper squares so they don't invert */
body.dark-mode .aaA,
body.dark-mode .aaB,
body.dark-mode .J-J5-Ji .aaA,
body.dark-mode .J-J5-Ji .aaB,
body.dark-mode .e5 .J-Z-I div[class*="aaA"],
body.dark-mode .e5 .J-Z-I div[class*="aaB"] {
  filter: none !important;               /* stop inverting whole square */
  background-color: transparent !important;/* and keep transparent */
}

/* Apply inversion only on glyph holder */
body.dark-mode .a3I {
  filter: invert(1) !important;
}



/* =============================================================================
   FORCE DARK MODE OVERRIDES - HIGH PRIORITY
   ============================================================================= */





/* Force right sidebar to be #141414 */
body.dark-mode .no,
body.dark-mode .nH.bkK.nn + .nH.nn,
body.dark-mode [aria-label="Hangouts"][role="complementary"] {
  background-color: #141414 !important;
  background: #141414 !important;
}

/* Force menu background to be #141414 - COMPREHENSIVE APPROACH */
body.dark-mode .aeN.WR.baA.nH.oy8Mbf,
body.dark-mode .aeN,
body.dark-mode .WR,
body.dark-mode .baA,
body.dark-mode .oy8Mbf,
body.dark-mode .ajl,
body.dark-mode .aib,
body.dark-mode .aZ6,
body.dark-mode .wT,
body.dark-mode .n3,
body.dark-mode .byl,
body.dark-mode .TK,
body.dark-mode .aim,
body.dark-mode .TO,
body.dark-mode .aic,
body.dark-mode .z0,
body.dark-mode .at9,
body.dark-mode .Ls77Lb,
body.dark-mode .aZ6,
body.dark-mode .pp,
body.dark-mode .nM,
body.dark-mode .yJ {
  background-color: #141414 !important;
  background: #141414 !important;
}

/* Force Categories icon to work properly */
body.dark-mode [data-tooltip="Categories"] .aEc.aHS-bnr .qj {
  -webkit-mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  mask-image: url('chrome-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
  -webkit-mask-size: 24px !important;
  mask-size: 24px !important;
  -webkit-mask-repeat: no-repeat !important;
  mask-repeat: no-repeat !important;
  -webkit-mask-position: center !important;
  mask-position: center !important;
  background-color: #9f9f9f !important;
  background-image: none !important;
}

/* Firefox-specific Categories override */
@-moz-document url-prefix() {
  body.dark-mode [data-tooltip="Categories"] .aEc.aHS-bnr .qj {
    -webkit-mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    mask-image: url('moz-extension://__MSG_@@extension_id__/images/menu_categories_24dp_FFFFFF_FILL1_wght400_GRAD0_opsz24.svg') !important;
    -webkit-mask-size: 24px !important;
    mask-size: 24px !important;
    -webkit-mask-repeat: no-repeat !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-position: center !important;
    mask-position: center !important;
    background-color: #9f9f9f !important;
    background-image: none !important;
  }
}

/* ========================================
   SEARCH FORM INPUT FIELDS - LIGHT BACKGROUNDS
   ======================================== */

/* Removed duplicate rule - consolidated with more specific rules below */

/* Exclude search window from dark mode - let Google handle it */
body.dark-mode .nH.fY {
  background: initial !important;
  background-color: initial !important;
}

/* Make all search form inputs light (Google's default) */
body.dark-mode .nH.fY input[type="text"],
body.dark-mode .nH.fY input[type="email"],
body.dark-mode .nH.fY input[type="search"],
body.dark-mode .nH.fY textarea,
body.dark-mode .nH.fY select,
body.dark-mode .nH.fY .ZH {
  background-color: #ffffff !important;
  color: #000000 !important;
}

/* Make the main search box background #3b3b3b */
body.dark-mode .gb_jd.gb_df.bas.aJf,
body.dark-mode .gb_se.aJh,
body.dark-mode input[aria-label="Search mail"] {
  background-color: #3b3b3b !important;
  color: #ffffff !important;
}

/* Make search form inputs light (From, To, Subject, etc.) */
body.dark-mode .ZZ .ZH,
body.dark-mode .ZZ input[type="text"],
body.dark-mode .ZZ input[type="email"],
body.dark-mode .ZZ input.ZH.nr,
body.dark-mode .ZZ input[class*="ZH"],
body.dark-mode .ZZ input.ZH.nr.aQa,
body.dark-mode .ZZ input.ZH.nr.aQf,
body.dark-mode .ZZ input.ZH.nr.aQd,
body.dark-mode .ZZ input.ZH.nr.aQb,
body.dark-mode .ZZ input.ZH.nr.aP9 {
  background-color: #ffffff !important;
  background: #ffffff !important;
  color: #000000 !important;
  border-color: #ccc !important;
}

/* Make search form dropdowns and additional inputs light (Size, Date within, Search scope) */
body.dark-mode .ZZ select,
body.dark-mode .ZZ input[type="number"],
body.dark-mode .ZZ input[type="date"],
body.dark-mode .ZZ input[type="datetime-local"],
body.dark-mode .ZZ input.nr[aria-label="Size value"],
body.dark-mode .ZZ input.nr[aria-label="Date"],
body.dark-mode .ZZ input.nr,
body.dark-mode .ZZ input[class*="nr"] {
  background-color: #ffffff !important;
  background: #ffffff !important;
  color: #000000 !important;
  border-color: #ccc !important;
}